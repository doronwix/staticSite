{
  "requestUrl": "/webpl3/assets/20201230110628/js/scripts/fxnet/devices/web/uilayer/viewmodels/Deals/Modules/DealToolsModule.js?v=20201230110628",
  "contentType": "application/javascript",
  "method": "GET",
  "statusCode": 200,
  "data": "ï»¿define(\r\n    'deviceviewmodels/Deals/Modules/DealToolsModule',\r\n    [\r\n        'require',\r\n        'knockout',\r\n        'handlers/general',\r\n        'viewmodels/Deals/DealToolsBaseViewModel',\r\n        'StateObject!TradingEnabled',\r\n        'StateObject!Transaction'\r\n    ],\r\n    function DealToolsDefault(require) {\r\n        var ko = require('knockout'),\r\n            general = require('handlers/general'),\r\n            stateObject = require('StateObject!Transaction'),\r\n            stateTradingEnabled = require('StateObject!TradingEnabled'),\r\n            baseViewModel = require('viewmodels/Deals/DealToolsBaseViewModel');\r\n\r\n        var DealToolsModule = general.extendClass(baseViewModel.DealToolsViewModel, function DealToolsModuleClass() {\r\n            var self = this,\r\n                parent = this.parent,\r\n                data = this.Data;\r\n\r\n            function init(settings) {\r\n                parent.init.call(self, settings);\r\n\r\n                stateObject.set(\"stateObjectIsReadyDefer\", Q.defer())\r\n                    .promise\r\n                    .then(updateReadyForUse)\r\n                    .done();\r\n\r\n                setObservables();\r\n            }\r\n\r\n            function setObservables() {\r\n                data.showToolsWhenTradingDisabled = stateTradingEnabled.containsKey('TradingEnabled')\r\n                    ? ko.observable(stateTradingEnabled.get('TradingEnabled'))\r\n                    : ko.observable(false);\r\n            }\r\n\r\n            function updateReadyForUse() {\r\n                stateObject.update(eStateObjectTopics.ReadyForUse, true);\r\n            }\r\n\r\n            return {\r\n                init: init,\r\n                Handlers: parent.Handlers,\r\n                DealData: parent.DealData\r\n            };\r\n        });\r\n\r\n        return {\r\n            ViewModel: DealToolsModule\r\n        };\r\n    }\r\n);\r\n",
  "isBase64": false
}