{
  "requestUrl": "/webpl3/assets/20201230110628/js/scripts/fxnet/uilayer/viewmodels/BaseVerificationDocumentViewModel.js?v=20201230110628",
  "contentType": "application/javascript",
  "method": "GET",
  "statusCode": 200,
  "data": "ï»¿define(\r\n    'viewmodels/BaseVerificationDocumentViewModel',\r\n    [\r\n        'require',\r\n        'knockout',\r\n        'handlers/general',\r\n        'handlers/Logger',\r\n        'helpers/KoComponentViewModel',\r\n        'dataaccess/dalCompliance',\r\n        'StateObject!VerificationDocument',\r\n        'Dictionary'\r\n    ],\r\n    function (require) {\r\n        var ko = require('knockout'),\r\n            general = require('handlers/general'),\r\n            logger = require('handlers/Logger'),\r\n            KoComponentViewModel = require('helpers/KoComponentViewModel'),\r\n            dalCompliance = require('dataaccess/dalCompliance'),\r\n            StateVerificationDocument = require('StateObject!VerificationDocument'),\r\n            Dictionary = require('Dictionary');\r\n\r\n        var BaseVerificationDocumentViewModel = general.extendClass(KoComponentViewModel, function (params) {\r\n            var data = this.Data,\r\n                stateObj = StateVerificationDocument.get(params.documentType);\r\n\r\n            function init() {\r\n                setObservables();\r\n            }\r\n\r\n            function setObservables() {\r\n                var isEnabled = stateObj.enableConfirm;\r\n\r\n                if (isEnabled) {\r\n                    isEnabled = params.documentStatus !== eUploadDocumentStatus.Approved;\r\n                    setStateConfirm(isEnabled);\r\n                }\r\n\r\n                data.enableConfirm = ko.observable(isEnabled);\r\n            }\r\n\r\n            function setStateConfirm(value) {\r\n                if (stateObj) {\r\n                    stateObj.enableConfirm = value;\r\n                    StateVerificationDocument.update(params.documentType, stateObj);\r\n                }\r\n            }\r\n\r\n            function setStateDocStatusText(value) {\r\n                if (stateObj) {\r\n                    stateObj.showDocStatusText = value;\r\n                    StateVerificationDocument.update(params.documentType, stateObj);\r\n                }\r\n            }\r\n\r\n            function setStateNormalUpload(value) {\r\n                if (stateObj) {\r\n                    stateObj.normalUpload = value;\r\n                    StateVerificationDocument.update(params.documentType, stateObj);\r\n                }\r\n            }\r\n\r\n            function getVerificationDocumentUrl() {\r\n                return dalCompliance\r\n                    .getVerificationDocumentUrl(params.documentTypeId)\r\n                    .then(function (response) {\r\n                        if (!general.isNullOrUndefined(response)) {\r\n                            var parsedResponse = JSONHelper.STR2JSON(\"dalCompliance:getVerificationDocumentUrl\", response);\r\n\r\n                            return parsedResponse;\r\n                        } else {\r\n                            logger.warn(\"VerificationDocumentViewModel:GetVerificationDocumentUrl\", \"Shufty Url is null/empty\", general.emptyFn, eErrorSeverity.warning);\r\n                            return null;\r\n                        }\r\n                    });\r\n            }\r\n\r\n            function getConfirmAlertMsg() {\r\n                var uploadDocTypeName = general.getKeyByValue(eUploadDocumentType, params.documentTypeId);\r\n                var document_type_name = Dictionary.GetItem('docname_' + uploadDocTypeName, 'UploadDocumentsStatusPopUpMessages');\r\n\r\n                var confirmBodyMsg = Dictionary.GetItem('docname_load_success', 'UploadDocumentsStatusPopUpMessages');\r\n\r\n                if (confirmBodyMsg) {\r\n                    confirmBodyMsg = confirmBodyMsg.replace('{0}', document_type_name);\r\n                }\r\n\r\n                return confirmBodyMsg;\r\n            }\r\n\r\n            return {\r\n                Init: init,\r\n                Data: data,\r\n                SetStateConfirm: setStateConfirm,\r\n                SetStateDocStatusText: setStateDocStatusText,\r\n                SetStateNormalUpload: setStateNormalUpload,\r\n                GetVerificationDocumentUrl: getVerificationDocumentUrl,\r\n                GetConfirmAlertMsg: getConfirmAlertMsg\r\n            };\r\n        });\r\n\r\n        return BaseVerificationDocumentViewModel;\r\n    }\r\n);\r\n",
  "isBase64": false
}