{
  "requestUrl": "/webpl3/assets/20201230110628/js/scripts/fxnet/devices/web/uilayer/viewmodels/Deals/EditLimitViewModel.js?v=20201230110628",
  "contentType": "application/javascript",
  "method": "GET",
  "statusCode": 200,
  "data": "ï»¿define(\r\n    'deviceviewmodels/Deals/EditLimitViewModel',\r\n    [\r\n        'require',\r\n        'configuration/initconfiguration',\r\n        'deviceviewmodels/Deals/Modules/EditLimitModule',\r\n        'Dictionary',\r\n        'cachemanagers/activelimitsmanager',\r\n        'managers/viewsmanager',\r\n        'viewmodels/dialogs/DialogViewModel'\r\n    ],\r\n    function EditLimitDefault(require) {\r\n        var settings = require('configuration/initconfiguration').EditLimitSettingsConfiguration,\r\n            Module = require('deviceviewmodels/Deals/Modules/EditLimitModule'),\r\n            dictionary = require('Dictionary'),\r\n            ActiveLimitsManager = require('cachemanagers/activelimitsmanager'),\r\n            ViewsManager = require('managers/viewsmanager'),\r\n            DialogViewModel = require('viewmodels/dialogs/DialogViewModel');\r\n\r\n        function handleInvalidViewModel() {\r\n            AlertsManager.UpdateAlert(AlertTypes.ServerResponseAlert, dictionary.GetItem(\"GenericAlert\"), dictionary.GetItem('OrderError7'));\r\n            AlertsManager.PopAlert(AlertTypes.ServerResponseAlert);\r\n\r\n            DialogViewModel.close();\r\n        }\r\n\r\n        function validateViewModel() {\r\n            var selectedLimit = ActiveLimitsManager.limits.GetItem(ViewsManager.GetViewArgs(eViewTypes.vEditLimit).orderId);\r\n            return selectedLimit !== null && typeof selectedLimit !== 'undefined';\r\n        }\r\n\r\n        var createViewModel = function () {\r\n            if (!validateViewModel()) {\r\n                handleInvalidViewModel();\r\n                return { _valid: false };\r\n            }\r\n\r\n            var viewModel = new Module.ViewModel();\r\n\r\n            viewModel.init(settings);\r\n\r\n            return viewModel;\r\n        };\r\n\r\n        return {\r\n            viewModel: {\r\n                createViewModel: createViewModel\r\n            }\r\n        };\r\n    }\r\n);\r\n",
  "isBase64": false
}