function ProChart_InitApiActions(h){function g(){for(var b=0;b<a.init.charttype.length;b++){var c=a.init.charttype[b].id,e=a.api.localstorage.getPriceStyle(c);"undefined"!=typeof e&&null!=e&&a.chart.SetPriceTypeStyle(c,e)}c=a.api.localstorage.getPriceType();"undefined"!=typeof c&&null!=c&&a.chart.GetPriceProperties().SetDrawType(c);b=a.api.localstorage.getMajorsFavorites();"undefined"!=typeof b&&null!=b&&("undefined"!=typeof a.init&&a.init.gui.majorsUpdate(b),"undefined"!=typeof a.menuobj&&a.menuobj.gui.updateMajorFavorites());
b=a.api.localstorage.getCompareFavorites();"undefined"!=typeof b&&null!=b&&("undefined"!=typeof a.init&&a.init.gui.compareUpdate(b),"undefined"!=typeof a.menuobj&&a.menuobj.gui.updateCompareFavorites());b=a.api.localstorage.getIndicatorsFavorites();"undefined"!=typeof b&&null!=b&&("undefined"!=typeof a.init&&a.init.gui.indicatorsUpdate(b),"undefined"!=typeof a.menuobj&&a.menuobj.gui.updateIndicatorFavorites());e=a.api.localstorage.getPriceTypeFavorites();if("undefined"!=typeof e&&null!=e){for(var d=
a.init.charttype,f=[],b=0;b<d.length;b++)for(c=0;c<e.length;c++)if(d[b].id==e[c].id){d[b].f!=e[c].f&&(f.push({id:e[c].id,f:e[c].f}),d[b].f=e[c].f);break}"undefined"!=typeof a.menuobj&&a.menuobj.gui.changeTypeChartFavoritesStar(f);"undefined"!=typeof a.toolbaradvobj&&a.toolbaradvobj.gui.viewTypeChartButtons(f)}e=a.api.localstorage.getTimeFrameFavorites();if("undefined"!=typeof e&&null!=e){d=a.init.timeframe;f=[];for(b=0;b<d.length;b++)for(c=0;c<e.length;c++)if(d[b].id==e[c].id){d[b].f!=e[c].f&&(f.push({id:e[c].id,
f:e[c].f}),d[b].f=e[c].f);break}"undefined"!=typeof a.toolbaradvobj&&a.toolbaradvobj.gui.viewTimeFrameButtons(f);"undefined"!=typeof a.menuobj&&a.menuobj.gui.updateTimesScale()}b=a.api.localstorage.getPriceLine();if("undefined"!=typeof b&&null!=b)try{a.chart.SetRTLineVisible("false"==b||!1==b?!1:!0)}catch(g){}a.chart.Redraw()}var a=h,d={};a.apiactions=d;d.fn={set:function(){if(0!=arguments.length){for(var a=d,c=0;c<arguments.length-2;c++)a=a[arguments[c]];"undefined"!=typeof a&&null!=a&&(a[arguments[arguments.length-
2]]=arguments[arguments.length-1])}},get:function(){if(0!=arguments.length){for(var a=d,c=0;c<arguments.length;c++)a=a[arguments[c]];return a}}};d.layout={layoutFile:null,changeTemplate:function(b){a.gui.changeTemplate(b)}};d.menu={};d.header={};d.toolbar={};d.chart={GetSymbolsByGroup:function(){a.chart.symbols.GetSymbolsByGroup.apply(this,arguments)},GetCountries:function(){a.chart.symbols.GetCountries.apply(this,arguments)},GetMarkets:function(){a.chart.symbols.GetMarkets.apply(this,arguments)},
GetExchanges:function(){a.chart.symbols.GetExchanges.apply(this,arguments)}};Object.defineProperty(d.chart,"TimeScale",{get:function(){return a.chart.TimeScale},set:function(b){a.chart.TimeScale=b}});d.common={closeDialog:function(){try{$("#chart-dialog").dialog("close"),$("#chart-dlgindicator").dialog("close")}catch(a){}}};d.indicators={openWizardIndicators:function(){if("undefined"!=typeof a.indicators){try{$("#chart-dialog").dialog("close")}catch(b){}a.indicators.gui.viewIndicators("indicators")}},
openWizardFavorites:function(){if("undefined"!=typeof a.indicators){try{$("#chart-dialog").dialog("close")}catch(b){}a.indicators.gui.viewIndicators("favorites")}},openWizardSmart:function(){if("undefined"!=typeof a.init.indicators&&"undefined"!=typeof a.indicators){try{$("#chart-dialog").dialog("close")}catch(b){}0<a.init.indicators.length?a.indicators.gui.viewIndicators("favorites"):a.indicators.gui.viewIndicators("indicators")}}};d.ta={openMajorsSearch:function(){if("undefined"!=typeof a.compares){try{$("#chart-dialog").dialog("close")}catch(b){}a.compares.gui.viewMajors("majors")}},
openMajorsFavorites:function(){if("undefined"!=typeof a.compares){try{$("#chart-dialog").dialog("close")}catch(b){}a.compares.gui.viewMajors("majors-favorites")}},openMajorsSmart:function(){if("undefined"!=typeof a.init.majors&&"undefined"!=typeof a.compares)if(0<a.init.majors.length){try{$("#chart-dialog").dialog("close")}catch(b){}a.compares.gui.viewMajors("majors-favorites")}else{try{$("#chart-dialog").dialog("close")}catch(c){}a.compares.gui.viewMajors("majors")}},openCompareSearch:function(){if("undefined"!=
typeof a.compares){try{$("#chart-dialog").dialog("close")}catch(b){}a.compares.gui.viewCompares("compares")}},openCompareFavorites:function(){try{$("#chart-dialog").dialog("close")}catch(b){}a.compares.gui.viewCompares("compares-favorites")},openCompareSmart:function(){if("undefined"!=typeof a.init.majors&&"undefined"!=typeof a.compares){try{$("#chart-dialog").dialog("close")}catch(b){}0<a.init.majors.length?a.compares.gui.viewCompares("compares-favorites"):a.compares.gui.viewCompares("compares")}}};
d.zoom={};d.localization={};d.plugin={};d.localstorage={getAllfromStorage:g,GetAllfromStorage:g,clear:function(){a.api.localstorage.clear()},clearAll:function(){}};Object.defineProperty(d.localstorage,"key",{get:function(){return a.gui.localstorage_condition.storage_key},set:function(b){a.gui.localstorage_condition.storage_key=b}});return d};
