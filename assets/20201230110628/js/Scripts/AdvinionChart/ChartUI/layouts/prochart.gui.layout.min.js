function ProChart_InitLayout(Q,w,H,l){function R(){function h(h){d=h;a.layoutlevelinit=d;"undefined"==typeof d.chart&&(d.chart={});"undefined"==typeof d.size&&(d.size={})}function e(a){try{window.GlobProchartObject[k]=a}catch(h){}if("undefined"!=typeof l){var c=prochartstation.get(l,"jsonini");if(null!=c){for(var e=0;e<c.length;e++){var f=c[e];if("function"==typeof f["function"])f["function"](a);f.deferred.resolve()}prochartstation.del(l,"jsonini")}}}var k=a.guiinit.rootpath+"/ChartUI/layouts/"+w+
"/init.json.js"+J,f=$.Deferred();try{if("undefined"!=typeof window.GlobProchartObject[k])return h(window.GlobProchartObject[k]),f.resolve()}catch(c){}if("undefined"!=typeof l)if(null==prochartstation.get(l,"jsonini"))prochartstation.set(l,"jsonini",[]);else{var g={deferred:f,"function":h};prochartstation.get(l,"jsonini").push(g);return f.promise()}if(a.navigator.XMLHttpRequest()){var b=new XMLHttpRequest;b.open("get",k);b.onload=function(){var a=$.parseJSON(b.responseText);h(a);e(a);f.resolve(a)};
b.send()}else $.ajax({url:k,dataType:"json",data:{},type:"get",async:!0}).done(function(a){h(a);e(a);f.resolve(a)});return f.promise()}function S(){var h=$.Deferred();if(null!=window.GlobProchartObject.versionbuild.guiversion)return a.version.gui.name=window.GlobProchartObject.versionbuild.guiversion,h.resolve();var e=""==a.guiinit.timeupdateVersiongui?"?"+(new Date).getTime():"?"+a.guiinit.timeupdateVersiongui,e=a.guiinit.rootpath+"/ChartUI/version/prochart.version.json.js"+e;if(a.navigator.XMLHttpRequest()){var k=
new XMLHttpRequest;k.open("get",e);k.onload=function(){var e=$.parseJSON(k.responseText);$.parseJSON(k.responseText);a.version.gui.build=e.guiversionbuild;a.version.gui.custom=e.customerversion;a.version.gui.name="v"+a.version.gui.build+"k"+a.version.gui.custom;h.resolve(e)};k.send()}else $.ajax({url:e,contentType:"application/javascript",dataType:"json",data:{},type:"get",async:!0,error:function(a,h){}}).done(function(e){a.version.gui.build=e.guiversionbuild;a.version.gui.custom=e.customerversion;
a.version.gui.name="v"+a.version.gui.build+"k"+a.version.gui.custom;h.resolve(e)});return h.promise()}function T(){if(a.autocorrect.layout1to2.zoomblock)try{var h=a.currenlayout.chart_panels.price.zoom;202>h.width&&(h.width=202)}catch(e){}if(a.autocorrect.layout1to2.legeninprice)try{var k=a.currenlayout.chart_panels.price.legend;!0!=k.hasOwnProperty("width")&&(k.width="inherit");!0!=k.hasOwnProperty("more")&&(k.more=!0);k.hasOwnProperty("right")&&(k.right="auto")}catch(f){}if(a.autocorrect.layout1to2.legeninstudy)try{var c=
a.currenlayout.chart_panels.study.legend;c.hasOwnProperty("height")&&(c.height="inherit");!0!=c.hasOwnProperty("width")&&(c.width="inherit");c.hasOwnProperty("right")&&(c.right="auto")}catch(g){}if(a.autocorrect.layout1to2.legencollapse)try{var d=a.currenlayout.chart_panels.price;!0!=d.hasOwnProperty("collapselegend")&&(d.collapselegend={view:!0,height:13,top:12,left:d.legend.left-20,width:13,collapseopen:!1,title_1:"+",title_2:"-"})}catch(b){}if(a.autocorrect.layout1to2.controlpanel)try{var l=a.currenlayout.chart_panels.price.controlpanel;
l.hasOwnProperty("width")&&(l.width="inherit");var m=a.currenlayout.chart_panels.study.controlpanel;m.hasOwnProperty("width")&&(m.width="inherit")}catch(r){}if(a.autocorrect.layout1to2.headertimeframe)try{for(var A=a.currenlayout.headers,h=0;h<A.length;h++)for(var p=A[h],k=0;k<p.items.length;k++){var n=p.items[k];n.hasOwnProperty("type")&&"timeframe"==n.type&&(n.type="toolbar",n.id="toolbar_header_timeframe",n.toolbarid="toolbar_header_timeframe1",n.hasOwnProperty("possition")&&(n.possition.top=2,
n.possition.width="inherit",n.possition.right="auto"))}for(var q=a.currenlayout.toolbars,A=!1,p=0;p<q.length;p++)if("toolbar_header_timeframe"==q[p].id){A=!0;break}!0!=A&&q.push({name:"toolbar",id:"toolbar_header_timeframe",location:"horizontal",style:"background-color:transparent",more:{auto:!0,captionview:!0,spaceview:!0,closebyclick:!0,possition:"right",alignv:"right",alignh:"auto",columns:1},items:[{type:"button-group",id:"group-header-timeframe",localize:"menu.timescale.1T",icon:"tick",caption:"tick",
style:"background-color:transparent; width:65px; ",title1:"",title2:"",css:"header-timeframe",captionview:!0,group:{type:"menu",possition:"bottom",alignv:"auto",alignh:"auto",columns:1,css:"",closebyclick:!0,changegroupicon:!0,grouptype:"timescale",viewtype:"text"},items:[{type:"button-group-timeframe",id:"timeframe",captionview:!0,viewall:!1,css:""}]}]});a.currenlayout.timeframeview="text";a.currenlayout.buttontype="icon"}catch(y){}if(a.autocorrect.layout1to2.daterangezoom)try{for(var s=a.currenlayout.zooms,
q=0;q<s.length;q++)for(var x=s[q],A=0;A<x.items.length;A++){var B=x.items[A];"daterange"==B.type&&(B.possition.view=!1)}for(var u=a.currenlayout.layout.items,s=0;s<u.length;s++){var t=u[s];if("main"==t.type){for(u=0;u<t.items.length;u++){var w=t.items[u];if("bottom"==w.type){for(w.height=30;0<w.items.length;){w.items[0].name="zoomrow";w.items[0].height=30;break}break}}break}}for(var v=a.currenlayout.zooms,t=0;t<v.length;t++)for(B=v[t];0<B.items.length;){var z=B.items[0];z.type="chart_container";z.possition.top=
"auto";z.possition.bottom=0;break}}catch(D){}if(a.autocorrect.layout1to2.daterangemain)try{!1==a.currenlayout.chart_panels.price.hasOwnProperty("axisxinmain")&&(a.currenlayout.chart_panels.price.axisxinmain={view:!0,height:11,right:55,bottom:0,top:"auto",padding:[0,0,0,0]})}catch(E){}if(a.autocorrect.layout1to2.msgbottom)try{if(!1==a.currenlayout.chart_panels.price.hasOwnProperty("axisxmsg")){var C={view:!1,height:22,right:55,bottom:0,padding:[0,0,0,0]};a.currenlayout.chart_panels.price.axisxmsg=
C;a.currenlayout.chart_panels.price.axisx.bottom="relative";a.currenlayout.chart_panels.price.axisx.bottomrelative="axisxmsg";a.currenlayout.chart_panels.price.main.bottom="relative";a.currenlayout.chart_panels.price.main.bottomrelative="axisx,axisxmsg";a.currenlayout.chart_panels.price.axisx.bottom="relative";a.currenlayout.chart_panels.price.axisx.bottomrelative="axisxmsg"}}catch(I){}if(a.autocorrect.layout1to2.header)try{for(var F=a.currenlayout.headers,B=0;B<F.length;B++)for(var G=F[B],v=0;v<
G.items.length;v++){var H=G.items[v];"communic"==H.type&&(H.possition.top=5)}C={view:!1,height:22,right:55,bottom:0,padding:[0,0,0,0]};a.currenlayout.chart_panels.price.axisxmsg=C;a.currenlayout.chart_panels.price.axisx.bottom="relative";a.currenlayout.chart_panels.price.axisx.bottomrelative="axisxmsg";a.currenlayout.chart_panels.price.main.bottom="relative";a.currenlayout.chart_panels.price.main.bottomrelative="axisx,axisxmsg";a.currenlayout.chart_panels.price.axisx.bottom="relative";a.currenlayout.chart_panels.price.axisx.bottomrelative=
"axisxmsg"}catch(J){}}function K(){function h(h){eval(h);a.currenlayout=eval("ProChart_InitCurrentLayout")(a);T()}function e(a){try{window.GlobProchartObject[f]=a}catch(h){}if("undefined"!=typeof l){var c=prochartstation.get(l,"jsonlayout");if(null!=c){for(var e=0;e<c.length;e++){var k=c[e];if("function"==typeof k["function"])k["function"](a);k.deferred.resolve()}prochartstation.del(l,"jsonlayout")}}}var k=!1==a.guiinit.cache?"?"+(new Date).getTime():"",f=a.guiinit.rootpath+"/ChartUI/layouts/"+w+
"/prochart.layout.js"+k;""!=a.guiinit.customLayoutFile&&(f=a.guiinit.customLayoutFile+k);var c=$.Deferred();try{if("undefined"!=typeof window.GlobProchartObject[f])return h(window.GlobProchartObject[f]),c.resolve()}catch(g){}if("undefined"!=typeof l)if(null==prochartstation.get(l,"jsonlayout"))prochartstation.set(l,"jsonlayout",[]);else return k={deferred:c,"function":h},prochartstation.get(l,"jsonlayout").push(k),c.promise();if(a.navigator.XMLHttpRequest()){var d=new XMLHttpRequest;d.open("get",
f);d.onload=function(){var a=d.responseText;h(a);e(a);c.resolve(a)};d.send()}else $.ajax({url:f,type:"get",cache:!0,async:!0,error:function(a,h){m.error(h)}}).done(function(a){h(a);e(a);c.resolve(a)});return c.promise()}function U(){function h(a){C(a)}function e(a){try{window.GlobProchartObject[f]=a}catch(h){}if("undefined"!=typeof l){var c=prochartstation.get(l,"patternlayout");if(null!=c){for(var e=0;e<c.length;e++){var k=c[e];if("function"==typeof k["function"])k["function"](a);k.deferred.resolve()}prochartstation.del(l,
"patternlayout")}}}var k=!1==a.guiinit.cache?"?"+a.version.gui.name+(new Date).getTime():"?"+a.version.gui.name,f=a.guiinit.rootpath+"/ChartUI/layouts/"+w+"/patterns/layout.patterns.htm"+k,c=$.Deferred();try{if("undefined"!=typeof window.GlobProchartObject[f])return C(window.GlobProchartObject[f]),m.debug("defered "),c.resolve()}catch(g){}if("undefined"!=typeof l)if(null==prochartstation.get(l,"patternlayout"))prochartstation.set(l,"patternlayout",[]);else return k={deferred:c,"function":h},prochartstation.get(l,
"patternlayout").push(k),c.promise();if(a.navigator.XMLHttpRequest()){var d=new XMLHttpRequest;d.open("get",f);d.onload=function(){var a=d.responseText;C(a);e(a);c.resolve(a)};d.send()}else $.ajax({type:"GET",async:!0,dataType:"html",url:f}).done(function(a){C(a);e(a);c.resolve(a)});return c.promise()}function C(h){a.currenlayout.patterns.containter=p(h,"container");a.currenlayout.patterns.top=p(h,"top-pattern");a.currenlayout.patterns.left=p(h,"left-pattern");a.currenlayout.patterns.right=p(h,"right-pattern");
a.currenlayout.patterns.bottom=p(h,"bottom-pattern");a.currenlayout.patterns.main=p(h,"main-pattern");a.currenlayout.patterns.mainchart=p(h,"main-pattern-chart");a.currenlayout.patterns.row=p(h,"row-pattern");a.currenlayout.patterns.col=p(h,"col-pattern");a.currenlayout.patterns.slideleft=p(h,"slide-left-pattern");a.currenlayout.patterns.slideright=p(h,"slide-right-pattern");a.currenlayout.patterns.lock=p(h,"layout-lock-pattern");typeof a.events.layout.readyComplete==typeof Function&&a.events.layout.readyComplete();
a.eventStatus.layoutreadyComplete=!0;m.debug("Loadded readPattern()");ProChart_InitCommonUtils(a);var e=a.currenlayout.patterns,k=a.currenlayout.layout;q(k);r(k);h=a.commonutils.func.returnShortUniqID();a.currenlayout.chart.layoutiid=h;k.guiid="layout"+h;k.guiniid=a.commonutils.func.returnShortUniqID();k.fns=[];k.fns.push({prop:"width",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});k.fns.push({prop:"height",actions:["objparent.origsize.%property% = '%value%';",
"objChartMain.api.layout.resize();"]});var f=y(k),e=e.containter.replace(n,"").replace(/%css%/g,"undefined"!=typeof k.css?k.css:"").replace(/%pstyle%/g,f.style).replace(/%pstylein%/g,f.styleinner).replace(/%id%/g,k.guiid).replace(/%innid%/g,k.guiniid),f=x(k);var c="";if("undefined"==typeof k.slideitems)k="";else{for(var g=0,d=k.slideitems.length;g<d;g++){var b=k.slideitems[g];switch(b.type){case "slideright":var l=k;b.guiid=a.commonutils.func.returnShortUniqID();b.guiniid=a.commonutils.func.returnShortUniqID();
q(b);r(b);"inherit"==b.height&&(b.height=l.height);b.top=0;b.bottom=0;b.right=0;l=y(b);b=a.currenlayout.patterns.slideright.replace(n,"").replace(/%id%/g,b.guiid).replace(/%innid%/g,b.guiniid).replace(/%css%/g,"undefined"!=typeof b.css?b.css:"").replace(/%pstyle%/g,l.style).replace(/%pstylein%/g,l.styleinner);c+=b;break;case "slideleft":b.guiid=a.commonutils.func.returnShortUniqID(),b.guiniid=a.commonutils.func.returnShortUniqID(),c+=""}}k=c}e=e.replace(/%html%/g,f).replace(/%htmlslide%/g,k);try{$.prochartcache.clearByMask(a.parent)}catch(s){}$.prochartcache.get(a.parent).html(e);
k="divChart"+h;e="layout"+h;m.debug("Begin  initChart");V(k,h,e);m.debug("After  initChart ")}function x(h){var e="";if("undefined"==typeof h.items)return"";for(var k=0,f=h.items.length;k<f;k++){var c=h.items[k];switch(c.type){case "top":var g=h;c.guiid=a.commonutils.func.returnShortUniqID();c.guiniid=a.commonutils.func.returnShortUniqID();q(c);r(c);if("inherit"==c.width||"auto"==c.width)c.width=g.width;if("inherit"==c.height||"auto"==c.height)c.height=L(c).height;c.top=0;c.left=0;g=y(c);g=a.currenlayout.patterns.top.replace(n,
"").replace(/%id%/g,c.guiid).replace(/%innid%/g,c.guiniid).replace(/%css%/g,"undefined"!=typeof c.css?c.css:"").replace(/%pstyle%/g,g.style).replace(/%pstylein%/g,g.styleinner);c.fns=[];c.fns.push({prop:"width",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});c.fns.push({prop:"height",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});c.fns.push({prop:"view",actions:["objparent.origsize.%property% = '%value%';",
"objChartMain.api.layout.resize();"]});var b="",b=x(c),g=g.replace(/%html%/g,b),e=e+g;break;case "left":g=h;c.guiid=a.commonutils.func.returnShortUniqID();c.guiniid=a.commonutils.func.returnShortUniqID();q(c);r(c);if("undefined"==typeof c.height||"inherit"==c.height)for(c.height=g.height,b=0;b<g.items.length;b++)"top"==g.items[b].type&&(c.top=g.items[b].height,c.height-=c.top),"bottom"==g.items[b].type&&!0==g.items[b].view&&(c.height-=g.items[b].height);c.left=0;g=y(c);g=a.currenlayout.patterns.left.replace(n,
"").replace(/%id%/g,c.guiid).replace(/%innid%/g,c.guiniid).replace(/%css%/g,"undefined"!=typeof c.css?c.css:"").replace(/%pstyle%/g,g.style).replace(/%pstylein%/g,g.styleinner);c.fns=[];c.fns.push({prop:"width",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});c.fns.push({prop:"height",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});c.fns.push({prop:"view",actions:["objparent.origsize.%property% = '%value%';",
"objChartMain.api.layout.resize();"]});b="";b=x(c);g=g.replace(/%html%/g,b);e+=g;break;case "right":g=h;c.guiid=a.commonutils.func.returnShortUniqID();c.guiniid=a.commonutils.func.returnShortUniqID();q(c);r(c);if("undefined"==typeof c.height||"inherit"==c.height)for(c.height=g.height,b=0;b<g.items.length;b++)"top"==g.items[b].type&&(c.top=g.items[b].height,c.height-=c.top),"bottom"==g.items[b].type&&!0==g.items[b].view&&(c.height-=g.items[b].height);c.right=0;g=y(c);g=a.currenlayout.patterns.right.replace(n,
"").replace(/%id%/g,c.guiid).replace(/%innid%/g,c.guiniid).replace(/%css%/g,"undefined"!=typeof c.css?c.css:"").replace(/%pstyle%/g,g.style).replace(/%pstylein%/g,g.styleinner);c.fns=[];c.fns.push({prop:"width",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});c.fns.push({prop:"height",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});c.fns.push({prop:"view",actions:["objparent.origsize.%property% = '%value%';",
"objChartMain.api.layout.resize();"]});b="";b=x(c);g=g.replace(/%html%/g,b);e+=g;break;case "main":g=h;c.guiid=a.commonutils.func.returnShortUniqID();c.guiniid=a.commonutils.func.returnShortUniqID();q(c);r(c);if("undefined"==typeof c.height||"inherit"==c.height)for(c.height=g.height,b=0;b<g.items.length;b++)"top"==g.items[b].type&&(c.top=g.items[b].height,c.height-=c.top),"bottom"==g.items[b].type&&(c.height-=g.items[b].height);if("undefined"==typeof c.width||"inherit"==c.width)for(c.width=g.width,
b=0;b<g.items.length;b++)"left"==g.items[b].type&&(c.left=g.items[b].width,c.width-=c.left),"right"==g.items[b].type&&(c.right=g.items[b].width,c.width-=c.right);g=y(c);g=a.currenlayout.patterns.main.replace(n,"").replace(/%id%/g,c.guiid).replace(/%innid%/g,c.guiniid).replace(/%css%/g,"undefined"!=typeof c.css?c.css:"").replace(/%pstyle%/g,g.style).replace(/%pstylein%/g,g.styleinner);c.fns=[];c.fns.push({prop:"width",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});
c.fns.push({prop:"height",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});c.fns.push({prop:"view",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});b="";b=x(c);g=g.replace(/%html%/g,b);e+=g;break;case "bottom":g=h;c.guiid=a.commonutils.func.returnShortUniqID();c.guiniid=a.commonutils.func.returnShortUniqID();q(c);r(c);"inherit"==c.width&&(c.width=g.width);c.bottom=0;c.left=0;g=y(c);g=a.currenlayout.patterns.bottom.replace(n,
"").replace(/%id%/g,c.guiid).replace(/%innid%/g,c.guiniid).replace(/%css%/g,"undefined"!=typeof c.css?c.css:"").replace(/%pstyle%/g,g.style).replace(/%pstylein%/g,g.styleinner);c.fns=[];c.fns.push({prop:"width",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});c.fns.push({prop:"height",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});c.fns.push({prop:"view",actions:["objparent.origsize.%property% = '%value%';",
"objChartMain.api.layout.resize();"]});b="";b=x(c);g=g.replace(/%html%/g,b);e+=g;break;case "row":g=h;"undefined"==typeof c.guiid&&(c.guiid=a.commonutils.func.returnShortUniqID());"undefined"==typeof c.guiniid&&(c.guiniid=a.commonutils.func.returnShortUniqID());q(c);r(c);"inherit"==c.width&&(c.width=g.width);"inherit"==c.height&&(c.height=g.height);b=y(c);b=a.currenlayout.patterns.row.replace(n,"").replace(/%id%/g,c.guiid).replace(/%innid%/g,c.guiniid).replace(/%css%/g,"undefined"!=typeof c.css?c.css:
"").replace(/%pstyle%/g,b.style).replace(/%pstylein%/g,b.styleinner);c.fns=[];c.fns.push({prop:"width",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});c.fns.push({prop:"height",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});c.fns.push({prop:"view",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});var d="",d=x(c,g),b=b.replace(/%html%/g,d),e=e+b;break;case "col":g=h;
"undefined"==typeof c.guiid&&(c.guiid=a.commonutils.func.returnShortUniqID());"undefined"==typeof c.guiniid&&(c.guiniid=a.commonutils.func.returnShortUniqID());q(c);r(c);"inherit"==c.width&&(c.width=g.width);"inherit"==c.height&&(c.height=g.height);b=y(c);b=a.currenlayout.patterns.col.replace(n,"").replace(/%id%/g,c.guiid).replace(/%innid%/g,c.guiniid).replace(/%css%/g,"undefined"!=typeof c.css?c.css:"").replace(/%pstyle%/g,b.style).replace(/%pstylein%/g,b.styleinner);c.fns=[];c.fns.push({prop:"width",
actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});c.fns.push({prop:"height",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});c.fns.push({prop:"view",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});d="";d=x(c,g);b=b.replace(/%html%/g,d);e+=b;break;case "rect":e+=void 0;break;case "lock":g=h;c.guiid=a.commonutils.func.returnShortUniqID();c.guiniid=a.commonutils.func.returnShortUniqID();
a.currenlayout.layout.lockguiid=c.guiid;a.currenlayout.layout.lockguiniid=c.guiniid;b={position:"relative",custom:"background-color:rgba(0,0,0,0.6);",width:g.width,height:g.height};g=M({left:0,right:0,top:0,bottom:0,position:"absolute","z-index":"300",view:"false"});b=M(b);c=a.currenlayout.patterns.lock.replace(n,"").replace(/%id%/g,c.guiid).replace(/%innid%/g,c.guiniid).replace(/%pstyle%/g,g).replace(/%pstylein%/g,b);e+=c;break;case "toolbar":g=h;if("undefined"!=typeof a.currenlayout.toolbars&&null!=
a.currenlayout.toolbars)for(b=0;b<a.currenlayout.toolbars.length;b++)if(d=a.currenlayout.toolbars[b],d.id==c.id){d.parent=g.guiid;break}break;case "menu":g=h;for(b=0;b<a.currenlayout.menus.items.length;b++)if(d=a.currenlayout.menus.items[b],d.id==c.id){d.parent=g.guiid;break}break;case "header":g=h;if("undefined"!=typeof a.currenlayout.headers&&null!=a.currenlayout.headers)for(b=0;b<a.currenlayout.headers.length;b++)if(d=a.currenlayout.headers[b],d.id==c.id){d.parent=g.guiid;break}break;case "zoom":g=
h;if("undefined"!=typeof a.currenlayout.zooms&&null!=a.currenlayout.zooms)for(b=0;b<a.currenlayout.zooms.length;b++)if(d=a.currenlayout.zooms[b],d.id==c.id){d.parent=g.guiid;break}break;case "chartcore":g=h;c.guiid=a.currenlayout.chart.layoutiid;c.height=g.height;c.width=g.width;for(b=0;b<g.items.length;b++)"top"==g.items[b].type&&(c.top=g.items[b].height,c.height-=c.top),"bottom"==g.items[b].type&&(c.height-=g.items[b].height);for(b=0;b<g.items.length;b++)"left"==g.items[b].type&&(c.left=g.items[b].width,
c.width-=c.left),"right"==g.items[b].type&&(c.width-=g.items[b].width);b=a.currenlayout.patterns.mainchart.replace(n,"").replace(/%id%/g,c.guiid).replace(/%css%/g,"undefined"!=typeof c.css?c.css:"").replace(/%pstyle%/g,"");a.currenlayout.chart={parent:g.guiid,width:c.width,height:c.height};b=b.replace(/%html%/g,"");e+=b}}return e}function L(a){var e={height:0,width:0};try{for(var b=0;b<a.items.length;b++)"row"!=a.items[b].type||!a.items[b].hasOwnProperty("origsize")||!0!=a.items[b].origsize.view&&
"true"!=a.items[b].origsize.view||(!1==isNaN(a.items[b].width)&&(e.width+=a.items[b].width),!1==isNaN(a.items[b].height)&&(e.height+=a.items[b].height))}catch(f){}return e}function q(a){a.origsize={};"undefined"!=typeof a.width&&(a.origsize.width=a.width);"undefined"!=typeof a.height&&(a.origsize.height=a.height);"undefined"!=typeof a.top&&(a.origsize.top=a.top);"undefined"!=typeof a.left&&(a.origsize.left=a.left);"undefined"!=typeof a.right&&(a.origsize.right=a.right);"undefined"!=typeof a.bottom&&
(a.origsize.bottom=a.bottom);"undefined"!=typeof a.padding&&(a.origsize.padding=a.padding);"undefined"!=typeof a.view&&(a.origsize.view=a.view)}function r(a){a.realsize={width:0,height:0}}function y(a,e){var b="",f="";"undefined"==typeof e&&(e="px");"undefined"!=typeof a.left&&(b=b+"left :"+a.left+e+"; ");"undefined"!=typeof a.right&&(b=b+"right :"+a.right+e+"; ");"undefined"!=typeof a.top&&(b=b+"top :"+a.top+e+"; ");"undefined"!=typeof a.bottom&&(b=b+"bottom :"+a.bottom+e+"; ");"undefined"!=typeof a.width&&
(b=b+"width :"+a.width+e+"; ",f=f+"width :"+a.width+e+"; ");"undefined"!=typeof a.height&&(b=b+"height :"+a.height+e+"; ",f=f+"height :"+a.height+e+"; ");"undefined"!=typeof a.view&&!0!=a.view&&(b+="display : none; ");return{style:0<b.length?'style="'+b+'"':"",styleinner:0<f.length?'style="'+f+'"':""}}function M(h,e){var b="";"undefined"==typeof e&&(e=a.currenlayout.chart_panels.unit);"undefined"!=typeof h.position&&(b=b+"position:"+h.position+"; ");"undefined"!=typeof h["z-index"]&&(b=b+"z-index:"+
h["z-index"]+"; ");"undefined"!=typeof h["pointer-events"]&&(b=b+"pointer-events:"+h["pointer-events"]+"; ");"undefined"!=typeof h.more&&(b+=h.more);"undefined"!=typeof h.left&&(b=b+"left :"+h.left+(isNaN(h.left)?"":e)+"; ");"undefined"!=typeof h.right&&(b=b+"right :"+h.right+(isNaN(h.right)?"":e)+"; ");"undefined"!=typeof h.top&&(b=b+"top :"+h.top+(isNaN(h.top)?"":e)+"; ");"undefined"!=typeof h.bottom&&(b=b+"bottom :"+h.bottom+(isNaN(h.bottom)?"":e)+"; ");"undefined"!=typeof h.width&&(b=b+"width :"+
h.width+(isNaN(h.width)?"":e)+"; ");"undefined"!=typeof h.height&&(b=b+"height :"+h.height+(isNaN(h.height)?"":e)+"; ");"undefined"!=typeof h.view&&!0!=h.view&&(b+="display : none; ");"undefined"!=typeof h.custom&&(b=b+" "+h.custom);return 0<b.length?'style="'+b+'"':'style=" display:none; "'}function s(){var b=window.innerHeight?window.innerHeight:$(window).height(),e=window.innerWidth?window.innerWidth:$(window).width(),d=a.api.props.chart.gui.layout.move_right_fullpage,f=a.api.props.chart.gui.layout.move_left_fullpage,
b=b-a.api.props.chart.gui.layout.move_top_fullpage-a.api.props.chart.gui.layout.move_bottom_fullpage;return{height:b,width:e-d-f}}function v(){!1==z.resizelayout&&typeof a.events.layout.onResizing==typeof Function&&(z.resizelayout=!0,a.events.layout.onResizing(a.currenlayout.layout),z.resizelayout=!1);var b=a.currenlayout.layout;b.width=a.currenlayout.workmode.fullscreen?s().width:b.origsize.width;b.height=a.currenlayout.workmode.fullscreen?s().height:b.origsize.height;u(b);t(b);"undefined"!=typeof a.toolbaradvobj&&
a.toolbaradvobj.gui.adjustSize();"undefined"!=typeof a.menuobj&&a.menuobj.gui.adjustSize();"undefined"!=typeof a.zoomobj&&a.zoomobj.gui.adjustSize();!1==z.resizelayout&&typeof a.events.layout.onResized==typeof Function&&(z.resizelayout=!0,a.events.layout.onResized(b.width,b.height),z.resizelayout=!1)}function t(b){if("undefined"!=typeof b.items)for(var e=0,d=b.items.length;e<d;e++){var f=b.items[e];switch(f.type){case "top":"inherit"==f.origsize.width&&(f.width=a.currenlayout.workmode.fullscreen?
s().width:b.width);if("inherit"==f.origsize.height||"auto"==f.origsize.height)f.height=L(f).height;r(f);f.top=0;f.left=0;u(f);t(f);break;case "left":var c=b;r(f);if("undefined"==typeof f.origsize.height||"inherit"==f.origsize.height){f.height=a.currenlayout.workmode.fullscreen?s().height:c.height;for(var g=0;g<c.items.length;g++)"top"==c.items[g].type&&("undefined"!=typeof c.items[g].view?!0==c.items[g].view||"true"==c.items[g].view?(f.top=c.items[g].height,f.height-=f.top):(f.top=0,f.height=f.height):
(f.top=c.items[g].height,f.height-=f.top)),"bottom"!=c.items[g].type||!0!=c.items[g].view&&"true"!=c.items[g].view||(f.height-=c.items[g].height)}f.left=0;u(f);t(f);break;case "right":c=b;r(f);if("undefined"==typeof f.origsize.height||"inherit"==f.origsize.height)for(f.height=a.currenlayout.workmode.fullscreen?s().height:c.height,g=0;g<c.items.length;g++)"top"==c.items[g].type&&("undefined"!=typeof c.items[g].view?!0==c.items[g].view||"true"==c.items[g].view?(f.top=c.items[g].height,f.height-=f.top):
(f.top=0,f.height=f.height):(f.top=c.items[g].height,f.height-=f.top)),"bottom"!=c.items[g].type||!0!=c.items[g].view&&"true"!=c.items[g].view||(f.height-=c.items[g].height);f.right=0;u(f);t(f);break;case "main":c=b;r(f);if("undefined"==typeof f.origsize.height||"inherit"==f.origsize.height)for(f.height=a.currenlayout.workmode.fullscreen?s().height:c.height,g=0;g<c.items.length;g++)"top"==c.items[g].type&&("undefined"!=typeof c.items[g].view?!0==c.items[g].view||"true"==c.items[g].view?(f.top=c.items[g].height,
f.height-=f.top):(f.top=0,f.height=f.height):(f.top=c.items[g].height,f.height-=f.top)),"bottom"!=c.items[g].type||!0!=c.items[g].view&&"true"!=c.items[g].view||(f.height-=c.items[g].height);if("undefined"==typeof f.origsize.width||"inherit"==f.origsize.width)for(f.width=a.currenlayout.workmode.fullscreen?s().width:c.width,g=0;g<c.items.length;g++)"left"==c.items[g].type&&("undefined"!=typeof c.items[g].view?!0==c.items[g].view||"true"==c.items[g].view?(f.left=c.items[g].width,f.width-=f.left):(f.left=
0,f.width=f.width):(f.left=c.items[g].width,f.width-=f.left)),"right"==c.items[g].type&&("undefined"!=typeof c.items[g].view?!0==c.items[g].view||"true"==c.items[g].view?(f.right=c.items[g].width,f.width-=f.right):(f.right=0,f.width=f.width):(f.right=c.items[g].width,f.width-=f.right));u(f);t(f);break;case "bottom":c=b;r(f);"undefined"==typeof c.type?"inherit"==f.origsize.width&&(f.width=a.currenlayout.workmode.fullscreen?s().width:c.width):f.width=c.width;f.bottom=0;f.left=0;u(f);t(f);break;case "row":c=
b;r(f);if("inherit"==f.origsize.width||"auto"==f.origsize.width)f.width=c.width;if("inherit"==f.origsize.height||"auto"==f.origsize.height)f.height=c.height;"undefined"==typeof c.realsize||"undefined"==typeof c.realsize.height||!0!=f.origsize.view&&"true"!=f.origsize.view||(c.height>=c.realsize.height+f.height?(f.view=!0,c.realsize.height+=f.height):f.view=!1);u(f);t(f);break;case "col":c=b;r(f);if("inherit"==f.origsize.width||"auto"==f.origsize.width)f.width=c.width;if("inherit"==f.origsize.height||
"auto"==f.origsize.height)f.height=c.height;"undefined"!=typeof c.realsize&&"undefined"!=typeof c.realsize.width&&(!0==f.origsize.view||"true"==f.origsize.view)&&c.height>=c.realsize.height+f.height&&(f.view=!0,c.realsize.height+=f.height);u(f);t(f);break;case "chartcore":c=b;f.height=c.height;f.width=c.width;for(g=0;g<c.items.length;g++)"top"==c.items[g].type&&("undefined"!=typeof c.items[g].view?!0==c.items[g].view||"true"==c.items[g].view?(f.top=c.items[g].height,f.height-=f.top):(f.top=0,f.height=
f.height):(f.top=c.items[g].height,f.height-=f.top)),f.height="bottom"!=c.items[g].type||!0!=c.items[g].view&&"true"!=c.items[g].view?f.height:f.height-c.items[g].height;a.currenlayout.chart={width:f.width,height:f.height};if("undefined"!=typeof a.panels){a.panels.gui.resizeFullpagePanels();try{a.chart&&"undefined"!=typeof a.chart.AdjustSize&&a.chart.AdjustSize()}catch(l){}}}}}function u(b,e){var d={},f={};"undefined"==typeof e&&(e="px");"undefined"!=typeof b.left&&(d.left=b.left+e);"undefined"!=
typeof b.right&&(d.right=b.right+e);"undefined"!=typeof b.top&&(d.top=b.top+e);"undefined"!=typeof b.bottom&&(d.bottom=b.bottom+e);"undefined"!=typeof b.width&&(d.width=b.width+e,f.width=b.width+e);"undefined"!=typeof b.height&&(d.height=b.height+e,f.height=b.height+e);"undefined"!=typeof b.view&&(d.display=!0==b.view||"true"==b.view?"":"none");if(!0!=jQuery.isEmptyObject(d)){var c=$.prochartcache.get(a.parent,"#"+b.guiid);c&&c.css(d)}!0!=jQuery.isEmptyObject(f)&&(c=$.prochartcache.get(a.parent,"#"+
b.guiniid))&&c.css(f);return d}function V(b,e,d){W(b,e,d);m.debug("initChart_step1 ----- finished");var f=$.Deferred();$.when(X(),Y()).done(function(){m.debug("!!!Done read all Patterns");Z(b,e,d);a.api.props&&a.api.props.func.layout.initComplete();"function"==typeof a.events.layout.initComplete&&a.events.layout.initComplete();a.eventStatus.layoutInitComplete=!0;a.gui.createChart();a.eventStatus.chartCreateComplete=!0;f.resolve()});return f.promise()}function X(){var b=$.Deferred();return"undefined"!=
typeof a.patterns?(m.debug("Before init initAllPatterns"),$.when(a.patterns.gui.initPatterns()).done(function(){m.debug("After init pattern initAllPatterns");if(""!=a.apiinit.customPanelPatternFile){m.debug("Check Custom Panel after init pattern initAllPatterns");var e=$.Deferred();$.when(a.patterns.gui.initCustomPanelPatterns()).done(function(){m.debug("After Custom Panel after init pattern initAllPatterns");e.resolve()})}b.resolve()}),b.promise()):b.resolve()}function W(h,e,k){m.debug("initChart_step1 ----- start ("+
h+")");ProChart_InitMain(a);"undefined"!=typeof a.guiinit.cache&&(!0==a.guiinit.cache?a.init.debug.cache=!0:!1==a.guiinit.cache&&(a.init.debug.cache=!1));a.init.LayoutName=w;a.init.TemplateName="undefined"!=typeof H?H:b(a.init.TemplateName,d.TemplateName);E=a.init.TemplateName;I(a.init.TemplateName);a.init.chartcontainer=$("#"+h);a.init.chartcontainerid=h;a.init.layoutuid=k;a.init.uuid=e;a.init.size.width=b(a.init.size.width,d.size.width);a.init.size.height=b(a.init.size.height,d.size.height);a.init.size.subheight=
b(a.init.size.subheight,d.size.subheight);null==a.gui.size.mainWidth&&(a.gui.size.mainWidth=b(a.init.size.mainWidth,d.size.mainWidth));null==a.gui.size.mainHeight&&(a.gui.size.mainHeight=b(a.init.size.mainHeight,d.size.mainHeight));null==a.gui.size.mainPaddingTop&&(a.gui.size.mainPaddingTop=b(a.init.size.mainPaddingTop,d.size.mainPaddingTop));null==a.gui.size.mainPaddingBottom&&(a.gui.size.mainPaddingBottom=b(a.init.size.mainPaddingBottom,d.size.mainPaddingBottom));null==a.gui.size.mainPaddingLeft&&
(a.gui.size.mainPaddingLeft=b(a.init.size.mainPaddingLeft,d.size.mainPaddingLeft));null==a.gui.size.mainPaddingRight&&(a.gui.size.mainPaddingRight=b(a.init.size.mainPaddingRight,d.size.mainPaddingRight));null==a.gui.size.width&&(a.gui.size.width=b(a.init.size.width,d.size.width));null==a.gui.size.height&&(a.gui.size.height=b(a.init.size.height,d.size.height));null==a.gui.size.subheight&&(a.gui.size.subheight=b(a.init.size.subheight,d.size.subheight));null==a.gui.size.paddingTop&&(a.gui.size.paddingTop=
b(a.init.size.paddingTop,d.size.paddingTop));null==a.gui.size.paddingBottom&&(a.gui.size.paddingBottom=b(a.init.size.paddingBottom,d.size.paddingBottom));null==a.gui.size.paddingPriceBottom&&(a.gui.size.paddingPriceBottom=b(a.init.size.paddingPriceBottom,d.size.paddingPriceBottom));null==a.gui.size.paddingLeft&&(a.gui.size.paddingLeft=b(a.init.size.paddingLeft,d.size.paddingLeft));null==a.gui.size.paddingRight&&(a.gui.size.paddingRight=b(a.init.size.paddingRight,d.size.paddingRight));null==a.gui.size.zoomWidth&&
(a.gui.size.zoomWidth=b(a.init.size.zoomWidth,d.size.zoomWidth));null==a.gui.size.zoomWidthRangebutton&&(a.gui.size.zoomWidthRangebutton=b(a.init.size.zoomWidthRangebutton,d.size.zoomWidthRangebutton));null==a.gui.size.autoInnerWidth&&(a.gui.size.autoInnerWidth=b(a.init.size.autoInnerWidth,d.size.autoInnerWidth));null==a.gui.size.autoInnerHeight&&(a.gui.size.autoInnerHeight=b(a.init.size.autoInnerHeight,d.size.autoInnerHeight));null==a.gui.size.fixedSize&&(a.gui.size.fixedSize=b(a.init.size.fixedSize,
d.size.fixedSize));null==a.gui.size.fullpage&&(a.gui.size.fullpage=b(a.init.size.fullpage,d.size.fullpage));null==a.gui.size.fullscreen&&(a.gui.size.fullscreen=b(a.init.size.fullscreen,d.size.fullscreen));null==a.gui.size.fullPaddingTop&&(a.gui.size.fullPaddingTop=b(a.init.size.fullPaddingTop,d.size.fullPaddingTop));null==a.gui.size.fullPaddingBottom&&(a.gui.size.fullPaddingBottom=b(a.init.size.fullPaddingBottom,d.size.fullPaddingBottom));null==a.gui.size.fullPaddingLeft&&(a.gui.size.fullPaddingLeft=
b(a.init.size.fullPaddingLeft,d.size.fullPaddingLeft));null==a.gui.size.fullPaddingRight&&(a.gui.size.fullPaddingRight=b(a.init.size.fullPaddingRight,d.size.fullPaddingRight));if(null==a.gui.guiblock.header.visible||"undefined"==typeof a.gui.guiblock.header.visible)a.gui.guiblock.header.visible=b(a.init.guiblock.header.visible,d.gui.header.visible);if("undefined"==typeof a.gui.guiblock.menu.visible||null==a.gui.guiblock.menu.visible)a.gui.guiblock.menu.visible=b(a.init.guiblock.menu.visible,d.gui.menu.visible);
if("undefined"==typeof a.gui.guiblock.menu.majors.visible||null==a.gui.guiblock.menu.majors.visible)a.gui.guiblock.menu.majors.visible=b(a.init.guiblock.menu.majors.visible,d.gui.menu.majors.visible);if("undefined"==typeof a.gui.guiblock.menu.template.visible||null==a.gui.guiblock.menu.template.visible)a.gui.guiblock.menu.template.visible=b(a.init.guiblock.menu.template.visible,d.gui.menu.template.visible);if("undefined"==typeof a.gui.guiblock.menu.charttype.visible||null==a.gui.guiblock.menu.charttype.visible)a.gui.guiblock.menu.charttype.visible=
b(a.init.guiblock.menu.charttype.visible,d.gui.menu.charttype.visible);if("undefined"==typeof a.gui.guiblock.menu.timeframe.visible||null==a.gui.guiblock.menu.timeframe.visible)a.gui.guiblock.menu.timeframe.visible=b(a.init.guiblock.menu.timeframe.visible,d.gui.menu.timeframe.visible);if("undefined"==typeof a.gui.guiblock.menu.studies.visible||null==a.gui.guiblock.menu.studies.visible)a.gui.guiblock.menu.studies.visible=b(a.init.guiblock.menu.studies.visible,d.gui.menu.studies.visible);if("undefined"==
typeof a.gui.guiblock.menu.compares.visible||null==a.gui.guiblock.menu.compares.visible)a.gui.guiblock.menu.compares.visible=b(a.init.guiblock.menu.compares.visible,d.gui.menu.compares.visible);if("undefined"==typeof a.gui.guiblock.menu.localization.visible||null==a.gui.guiblock.menu.localization.visible)a.gui.guiblock.menu.localization.visible=b(a.init.guiblock.menu.localization.visible,d.gui.menu.localization.visible);if("undefined"==typeof a.gui.guiblock.menu.help.visible||null==a.gui.guiblock.menu.help.visible)a.gui.guiblock.menu.help.visible=
b(a.init.guiblock.menu.help.visible,d.gui.menu.help.visible);if("undefined"==typeof a.gui.guiblock.menu.about.visible||null==a.gui.guiblock.menu.about.visible)a.gui.guiblock.menu.about.visible=b(a.init.guiblock.menu.about.visible,d.gui.menu.about.visible);if("undefined"==typeof a.gui.guiblock.toolbar.visible||null==a.gui.guiblock.toolbar.visible)a.gui.guiblock.toolbar.visible=b(a.init.guiblock.toolbar.visible,d.gui.toolbar.visible);if("undefined"==typeof a.gui.guiblock.toolbar.charttype.visible||
null==a.gui.guiblock.toolbar.charttype.visible)a.gui.guiblock.toolbar.charttype.visible=b(a.init.guiblock.toolbar.charttype.visible,d.gui.toolbar.charttype.visible);if("undefined"==typeof a.gui.guiblock.toolbar.timeframe.visible||null==a.gui.guiblock.toolbar.timeframe.visible)a.gui.guiblock.toolbar.timeframe.visible=b(a.init.guiblock.toolbar.timeframe.visible,d.gui.toolbar.timeframe.visible);if("undefined"==typeof a.gui.guiblock.toolbar.systems.visible||null==a.gui.guiblock.toolbar.systems.visible)a.gui.guiblock.toolbar.systems.visible=
b(a.init.guiblock.toolbar.systems.visible,d.gui.toolbar.systems.visible);if("undefined"==typeof a.gui.guiblock.toolbar.other.visible||null==a.gui.guiblock.toolbar.other.visible)a.gui.guiblock.toolbar.other.visible=b(a.init.guiblock.toolbar.other.visible,d.gui.toolbar.other.visible);if("undefined"==typeof a.gui.guiblock.zoom.visible||null==a.gui.guiblock.zoom.visible)a.gui.guiblock.zoom.visible=b(a.init.guiblock.zoom.visible,d.gui.zoom.visible);if("undefined"==typeof a.gui.guiblock.zoom.zoomtoolbar.visible||
null==a.gui.guiblock.zoom.zoomtoolbar.visible)a.gui.guiblock.zoom.zoomtoolbar.visible=b(a.init.guiblock.zoom.zoomtoolbar.visible,d.gui.zoom.zoomtoolbar.visible);if("undefined"==typeof a.gui.size.panels.unit||null==a.gui.size.panels.unit)a.gui.size.panels.unit=b(a.init.size.panels.unit,d.panels.unit);if("undefined"==typeof a.gui.size.panels.padding||null==a.gui.size.panels.padding)a.gui.size.panels.padding=b(a.init.size.panels.padding,d.panels.padding);if("undefined"==typeof a.gui.size.panels.spiltmargin||
null==a.gui.size.panels.spiltmargin)a.gui.size.panels.spiltmargin=b(a.init.size.panels.spiltmargin,d.panels.spiltmargin);if("undefined"==typeof a.gui.size.panels.margin||null==a.gui.size.panels.margin)a.gui.size.panels.margin=b(a.init.size.panels.margin,d.panels.margin);if("undefined"==typeof a.gui.size.panels.price.grow||null==a.gui.size.panels.price.grow)a.gui.size.panels.price.grow=b(a.init.size.panels.price.grow,d.panels.price.grow);if("undefined"==typeof a.gui.size.panels.price.axisy.view||null==
a.gui.size.panels.price.axisy.view)a.gui.size.panels.price.axisy.view=b(a.init.size.panels.price.axisy.view,d.panels.price.axisy.view);if("undefined"==typeof a.gui.size.panels.price.axisy.width||null==a.gui.size.panels.price.axisy.width)a.gui.size.panels.price.axisy.width=b(a.init.size.panels.price.axisy.width,d.panels.price.axisy.width);if("undefined"==typeof a.gui.size.panels.price.axisy.right||null==a.gui.size.panels.price.axisy.right)a.gui.size.panels.price.axisy.right=b(a.init.size.panels.price.axisy.right,
d.panels.price.axisy.right);if("undefined"==typeof a.gui.size.panels.price.axisy.padding||null==a.gui.size.panels.price.axisy.padding)a.gui.size.panels.price.axisy.padding=b(a.init.size.panels.price.axisy.right,d.panels.price.axisy.padding);if("undefined"==typeof a.gui.size.panels.price.axisx.view||null==a.gui.size.panels.price.axisx.view)a.gui.size.panels.price.axisx.view=b(a.init.size.panels.price.axisx.view,d.panels.price.axisx.view);if("undefined"==typeof a.gui.size.panels.price.axisx.height||
null==a.gui.size.panels.price.axisx.height)a.gui.size.panels.price.axisx.height=b(a.init.size.panels.price.axisx.height,d.panels.price.axisx.height);if("undefined"==typeof a.gui.size.panels.price.axisx.bottom||null==a.gui.size.panels.price.axisx.bottom)a.gui.size.panels.price.axisx.bottom=b(a.init.size.panels.price.axisx.bottom,d.panels.price.axisx.bottom);if("undefined"==typeof a.gui.size.panels.price.axisx.right||null==a.gui.size.panels.price.axisx.right)a.gui.size.panels.price.axisx.right=b(a.init.size.panels.price.axisx.right,
d.panels.price.axisx.right);if("undefined"==typeof a.gui.size.panels.price.axisx.padding||null==a.gui.size.panels.price.axisx.padding)a.gui.size.panels.price.axisx.padding=b(a.init.size.panels.price.axisx.right,d.panels.price.axisx.padding);if("undefined"==typeof a.gui.size.panels.price.main.top||null==a.gui.size.panels.price.main.top)a.gui.size.panels.price.main.top=b(a.init.size.panels.price.main.top,d.panels.price.main.top);if("undefined"==typeof a.gui.size.panels.price.main.left||null==a.gui.size.panels.price.main.left)a.gui.size.panels.price.main.left=
b(a.init.size.panels.price.main.left,d.panels.price.main.left);if("undefined"==typeof a.gui.size.panels.price.main.bottom||null==a.gui.size.panels.price.main.bottom)a.gui.size.panels.price.main.bottom=b(a.init.size.panels.price.main.bottom,d.panels.price.main.bottom);if("undefined"==typeof a.gui.size.panels.price.main.right||null==a.gui.size.panels.price.main.right)a.gui.size.panels.price.main.right=b(a.init.size.panels.price.main.right,d.panels.price.main.right);if("undefined"==typeof a.gui.size.panels.price.main.padding||
null==a.gui.size.panels.price.main.padding)a.gui.size.panels.price.main.padding=b(a.init.size.panels.price.main.right,d.panels.price.main.padding);if("undefined"==typeof a.gui.size.panels.price.legend.top||null==a.gui.size.panels.price.legend.top)a.gui.size.panels.price.legend.top=b(a.init.size.panels.price.legend.top,d.panels.price.legend.top);if("undefined"==typeof a.gui.size.panels.price.legend.left||null==a.gui.size.panels.price.legend.left)a.gui.size.panels.price.legend.left=b(a.init.size.panels.price.legend.left,
d.panels.price.legend.left);if("undefined"==typeof a.gui.size.panels.price.legend.height||null==a.gui.size.panels.price.legend.height)a.gui.size.panels.price.legend.height=b(a.init.size.panels.price.legend.height,d.panels.price.legend.height);if("undefined"==typeof a.gui.size.panels.price.legend.right||null==a.gui.size.panels.price.legend.right)a.gui.size.panels.price.legend.right=b(a.init.size.panels.price.legend.right,d.panels.price.legend.right);if("undefined"==typeof a.gui.size.panels.price.legend.view||
null==a.gui.size.panels.price.legend.view)a.gui.size.panels.price.legend.view=b(a.init.size.panels.price.legend.view,d.panels.price.legend.view);if("undefined"==typeof a.gui.size.panels.price.legend.padding||null==a.gui.size.panels.price.legend.padding)a.gui.size.panels.price.legend.padding=b(a.init.size.panels.price.legend.right,d.panels.price.legend.padding);if("undefined"==typeof a.gui.size.panels.price.controlpanel.top||null==a.gui.size.panels.price.controlpanel.top)a.gui.size.panels.price.controlpanel.top=
b(a.init.size.panels.price.controlpanel.top,d.panels.price.controlpanel.top);if("undefined"==typeof a.gui.size.panels.price.controlpanel.view||null==a.gui.size.panels.price.controlpanel.view)a.gui.size.panels.price.controlpanel.view=b(a.init.size.panels.price.controlpanel.view,d.panels.price.controlpanel.view);if("undefined"==typeof a.gui.size.panels.price.controlpanel.height||null==a.gui.size.panels.price.controlpanel.height)a.gui.size.panels.price.controlpanel.height=b(a.init.size.panels.price.controlpanel.height,
d.panels.price.controlpanel.height);if("undefined"==typeof a.gui.size.panels.price.controlpanel.right||null==a.gui.size.panels.price.controlpanel.right)a.gui.size.panels.price.controlpanel.right=b(a.init.size.panels.price.controlpanel.right,d.panels.price.controlpanel.right);if("undefined"==typeof a.gui.size.panels.price.controlpanel.width||null==a.gui.size.panels.price.controlpanel.width)a.gui.size.panels.price.controlpanel.width=b(a.init.size.panels.price.controlpanel.width,d.panels.price.controlpanel.width);
if("undefined"==typeof a.gui.size.panels.price.zoom.bottom||null==a.gui.size.panels.price.zoom.bottom)a.gui.size.panels.price.zoom.bottom=b(a.init.size.panels.price.zoom.bottom,d.panels.price.zoom.bottom);if("undefined"==typeof a.gui.size.panels.price.zoom.left||null==a.gui.size.panels.price.zoom.left)a.gui.size.panels.price.zoom.left=b(a.init.size.panels.price.zoom.left,d.panels.price.zoom.left);if("undefined"==typeof a.gui.size.panels.price.zoom.right||null==a.gui.size.panels.price.zoom.right)a.gui.size.panels.price.zoom.right=
b(a.init.size.panels.price.zoom.right,d.panels.price.zoom.right);if("undefined"==typeof a.gui.size.panels.price.zoom.view||null==a.gui.size.panels.price.zoom.view)a.gui.size.panels.price.zoom.view=b(a.init.size.panels.price.zoom.view,d.panels.price.zoom.view);if("undefined"==typeof a.gui.size.panels.price.zoom.height||null==a.gui.size.panels.price.zoom.height)a.gui.size.panels.price.zoom.height=b(a.init.size.panels.price.zoom.height,d.panels.price.zoom.height);if("undefined"==typeof a.gui.size.panels.price.zoom.width||
null==a.gui.size.panels.price.zoom.width)a.gui.size.panels.price.zoom.width=b(a.init.size.panels.price.zoom.width,d.panels.price.zoom.width);if("undefined"==typeof a.gui.size.panels.price.zoom.padding||null==a.gui.size.panels.price.zoom.padding)a.gui.size.panels.price.zoom.padding=b(a.init.size.panels.price.zoom.padding,d.panels.price.zoom.padding);if("undefined"==typeof a.gui.size.panels.study.grow||null==a.gui.size.panels.study.grow)a.gui.size.panels.study.grow=b(a.init.size.panels.study.grow,d.panels.study.grow);
if("undefined"==typeof a.gui.size.panels.study.axisy.view||null==a.gui.size.panels.study.axisy.view)a.gui.size.panels.study.axisy.view=b(a.init.size.panels.study.axisy.view,d.panels.study.axisy.view);if("undefined"==typeof a.gui.size.panels.study.axisy.top||null==a.gui.size.panels.study.axisy.top)a.gui.size.panels.study.axisy.top=b(a.init.size.panels.study.axisy.top,d.panels.study.axisy.top);if("undefined"==typeof a.gui.size.panels.study.axisy.width||null==a.gui.size.panels.study.axisy.width)a.gui.size.panels.study.axisy.width=
b(a.init.size.panels.study.axisy.width,d.panels.study.axisy.width);if("undefined"==typeof a.gui.size.panels.study.axisy.right||null==a.gui.size.panels.study.axisy.right)a.gui.size.panels.study.axisy.right=b(a.init.size.panels.study.axisy.right,d.panels.study.axisy.right);if("undefined"==typeof a.gui.size.panels.study.axisy.bottom||null==a.gui.size.panels.study.axisy.bottom)a.gui.size.panels.study.axisy.bottom=b(a.init.size.panels.study.axisy.bottom,d.panels.study.axisy.bottom);if("undefined"==typeof a.gui.size.panels.study.axisy.padding||
null==a.gui.size.panels.study.axisy.padding)a.gui.size.panels.study.axisy.padding=b(a.init.size.panels.study.axisy.right,d.panels.study.axisy.padding);if("undefined"==typeof a.gui.size.panels.study.axisx.view||null==a.gui.size.panels.study.axisx.view)a.gui.size.panels.study.axisx.view=b(a.init.size.panels.study.axisx.view,d.panels.study.axisx.view);if("undefined"==typeof a.gui.size.panels.study.axisx.height||null==a.gui.size.panels.study.axisx.height)a.gui.size.panels.study.axisx.height=b(a.init.size.panels.study.axisx.height,
d.panels.study.axisx.height);if("undefined"==typeof a.gui.size.panels.study.axisx.bottom||null==a.gui.size.panels.study.axisx.bottom)a.gui.size.panels.study.axisx.bottom=b(a.init.size.panels.study.axisx.bottom,d.panels.study.axisx.bottom);if("undefined"==typeof a.gui.size.panels.study.axisx.right||null==a.gui.size.panels.study.axisx.right)a.gui.size.panels.study.axisx.right=b(a.init.size.panels.study.axisx.right,d.panels.study.axisx.right);if("undefined"==typeof a.gui.size.panels.study.axisx.padding||
null==a.gui.size.panels.study.axisx.padding)a.gui.size.panels.study.axisx.padding=b(a.init.size.panels.study.axisx.right,d.panels.study.axisx.padding);if("undefined"==typeof a.gui.size.panels.study.main.top||null==a.gui.size.panels.study.main.top)a.gui.size.panels.study.main.top=b(a.init.size.panels.study.main.top,d.panels.study.main.top);if("undefined"==typeof a.gui.size.panels.study.main.left||null==a.gui.size.panels.study.main.left)a.gui.size.panels.study.main.left=b(a.init.size.panels.study.main.left,
d.panels.study.main.left);if("undefined"==typeof a.gui.size.panels.study.main.bottom||null==a.gui.size.panels.study.main.bottom)a.gui.size.panels.study.main.bottom=b(a.init.size.panels.study.main.bottom,d.panels.study.main.bottom);if("undefined"==typeof a.gui.size.panels.study.main.right||null==a.gui.size.panels.study.main.right)a.gui.size.panels.study.main.right=b(a.init.size.panels.study.main.right,d.panels.study.main.right);if("undefined"==typeof a.gui.size.panels.study.main.padding||null==a.gui.size.panels.study.main.padding)a.gui.size.panels.study.main.padding=
b(a.init.size.panels.study.main.right,d.panels.study.main.padding);if("undefined"==typeof a.gui.size.panels.study.legend.top||null==a.gui.size.panels.study.legend.top)a.gui.size.panels.study.legend.top=b(a.init.size.panels.study.legend.top,d.panels.study.legend.top);if("undefined"==typeof a.gui.size.panels.study.legend.left||null==a.gui.size.panels.study.legend.left)a.gui.size.panels.study.legend.left=b(a.init.size.panels.study.legend.left,d.panels.study.legend.left);if("undefined"==typeof a.gui.size.panels.study.legend.height||
null==a.gui.size.panels.study.legend.height)a.gui.size.panels.study.legend.height=b(a.init.size.panels.study.legend.height,d.panels.study.legend.height);if("undefined"==typeof a.gui.size.panels.study.legend.right||null==a.gui.size.panels.study.legend.right)a.gui.size.panels.study.legend.right=b(a.init.size.panels.study.legend.right,d.panels.study.legend.right);if("undefined"==typeof a.gui.size.panels.study.legend.view||null==a.gui.size.panels.study.legend.view)a.gui.size.panels.study.legend.view=
b(a.init.size.panels.study.legend.view,d.panels.study.legend.view);if("undefined"==typeof a.gui.size.panels.study.legend.padding||null==a.gui.size.panels.study.legend.padding)a.gui.size.panels.study.legend.padding=b(a.init.size.panels.study.legend.right,d.panels.study.legend.padding);if("undefined"==typeof a.gui.size.panels.study.controlpanel.view||null==a.gui.size.panels.study.controlpanel.view)a.gui.size.panels.study.controlpanel.view=b(a.init.size.panels.study.controlpanel.view,d.panels.study.controlpanel.view);
if("undefined"==typeof a.gui.size.panels.study.controlpanel.top||null==a.gui.size.panels.study.controlpanel.top)a.gui.size.panels.study.controlpanel.top=b(a.init.size.panels.study.controlpanel.top,d.panels.study.controlpanel.top);if("undefined"==typeof a.gui.size.panels.study.controlpanel.height||null==a.gui.size.panels.study.controlpanel.height)a.gui.size.panels.study.controlpanel.height=b(a.init.size.panels.study.controlpanel.height,d.panels.study.controlpanel.height);if("undefined"==typeof a.gui.size.panels.study.controlpanel.right||
null==a.gui.size.panels.study.controlpanel.right)a.gui.size.panels.study.controlpanel.right=b(a.init.size.panels.study.controlpanel.right,d.panels.study.controlpanel.right);if("undefined"==typeof a.gui.size.panels.study.controlpanel.width||null==a.gui.size.panels.study.controlpanel.width)a.gui.size.panels.study.controlpanel.width=b(a.init.size.panels.study.controlpanel.width,d.panels.study.controlpanel.width);if("undefined"==typeof a.gui.size.panels.splitterx.grow||null==a.gui.size.panels.splitterx.grow)a.gui.size.panels.splitterx.grow=
b(a.init.size.panels.splitterx.grow,d.panels.splitterx.grow);if("undefined"==typeof a.gui.size.panels.splitterx.height||null==a.gui.size.panels.splitterx.height)a.gui.size.panels.splitterx.height=b(a.init.size.panels.splitterx.height,d.panels.splitterx.height);if("undefined"==typeof a.gui.size.panels.splitterx.main.top||null==a.gui.size.panels.splitterx.main.top)a.gui.size.panels.splitterx.main.top=b(a.init.size.panels.splitterx.main.top,d.panels.splitterx.main.top);if("undefined"==typeof a.gui.size.panels.splitterx.main.view||
null==a.gui.size.panels.splitterx.main.view)a.gui.size.panels.splitterx.main.view=b(a.init.size.panels.splitterx.main.view,d.panels.splitterx.main.view);if("undefined"==typeof a.gui.size.panels.splitterx.main.left||null==a.gui.size.panels.splitterx.main.left)a.gui.size.panels.splitterx.main.left=b(a.init.size.panels.splitterx.main.left,d.panels.splitterx.main.left);if("undefined"==typeof a.gui.size.panels.splitterx.main.bottom||null==a.gui.size.panels.splitterx.main.bottom)a.gui.size.panels.splitterx.main.bottom=
b(a.init.size.panels.splitterx.main.bottom,d.panels.splitterx.main.bottom);if("undefined"==typeof a.gui.size.panels.splitterx.main.right||null==a.gui.size.panels.splitterx.main.right)a.gui.size.panels.splitterx.main.right=b(a.init.size.panels.splitterx.main.right,d.panels.splitterx.main.right);if("undefined"==typeof a.gui.size.panels.splitterx.main.height||null==a.gui.size.panels.splitterx.main.height)a.gui.size.panels.splitterx.main.height=b(a.init.size.panels.splitterx.main.height,d.panels.splitterx.main.height);
if("undefined"==typeof a.gui.size.panels.splitterx.main.padding||null==a.gui.size.panels.splitterx.main.padding)a.gui.size.panels.splitterx.main.padding=b(a.init.size.panels.splitterx.main.right,d.panels.splitterx.main.padding);if("undefined"==typeof a.gui.size.panels.signal.grow||null==a.gui.size.panels.signal.grow)a.gui.size.panels.signal.grow=b(a.init.size.panels.signal.grow,d.panels.signal.grow);if("undefined"==typeof a.gui.size.panels.signal.main.top||null==a.gui.size.panels.signal.main.top)a.gui.size.panels.signal.main.top=
b(a.init.size.panels.signal.main.top,d.panels.signal.main.top);if("undefined"==typeof a.gui.size.panels.signal.main.left||null==a.gui.size.panels.signal.main.left)a.gui.size.panels.signal.main.left=b(a.init.size.panels.signal.main.left,d.panels.signal.main.left);if("undefined"==typeof a.gui.size.panels.signal.main.bottom||null==a.gui.size.panels.signal.main.bottom)a.gui.size.panels.signal.main.bottom=b(a.init.size.panels.signal.main.bottom,d.panels.signal.main.bottom);if("undefined"==typeof a.gui.size.panels.signal.main.right||
null==a.gui.size.panels.signal.main.right)a.gui.size.panels.signal.main.right=b(a.init.size.panels.signal.main.right,d.panels.signal.main.right);if("undefined"==typeof a.gui.size.panels.signal.main.padding||null==a.gui.size.panels.signal.main.padding)a.gui.size.panels.signal.main.padding=b(a.init.size.panels.signal.main.right,d.panels.signal.main.padding);if("undefined"==typeof a.gui.size.panels.signal.legend.top||null==a.gui.size.panels.signal.legend.top)a.gui.size.panels.signal.legend.top=b(a.init.size.panels.signal.legend.top,
d.panels.signal.legend.top);if("undefined"==typeof a.gui.size.panels.signal.legend.left||null==a.gui.size.panels.signal.legend.left)a.gui.size.panels.signal.legend.left=b(a.init.size.panels.signal.legend.left,d.panels.signal.legend.left);if("undefined"==typeof a.gui.size.panels.signal.legend.height||null==a.gui.size.panels.signal.legend.height)a.gui.size.panels.signal.legend.height=b(a.init.size.panels.signal.legend.height,d.panels.signal.legend.height);if("undefined"==typeof a.gui.size.panels.signal.legend.right||
null==a.gui.size.panels.signal.legend.right)a.gui.size.panels.signal.legend.right=b(a.init.size.panels.signal.legend.right,d.panels.signal.legend.right);if("undefined"==typeof a.gui.size.panels.signal.legend.view||null==a.gui.size.panels.signal.legend.view)a.gui.size.panels.signal.legend.view=b(a.init.size.panels.signal.legend.view,d.panels.signal.legend.view);if("undefined"==typeof a.gui.size.panels.signal.legend.padding||null==a.gui.size.panels.signal.legend.padding)a.gui.size.panels.signal.legend.padding=
b(a.init.size.panels.signal.legend.right,d.panels.signal.legend.padding);if("undefined"==typeof a.gui.size.panels.signal.controlpanel.view||null==a.gui.size.panels.signal.controlpanel.view)a.gui.size.panels.signal.controlpanel.view=b(a.init.size.panels.signal.controlpanel.view,d.panels.signal.controlpanel.view);if("undefined"==typeof a.gui.size.panels.signal.controlpanel.top||null==a.gui.size.panels.signal.controlpanel.top)a.gui.size.panels.signal.controlpanel.top=b(a.init.size.panels.signal.controlpanel.top,
d.panels.signal.controlpanel.top);if("undefined"==typeof a.gui.size.panels.signal.controlpanel.width||null==a.gui.size.panels.signal.controlpanel.width)a.gui.size.panels.signal.controlpanel.width=b(a.init.size.panels.signal.controlpanel.width,d.panels.signal.controlpanel.width);if("undefined"==typeof a.gui.size.panels.signal.controlpanel.height||null==a.gui.size.panels.signal.controlpanel.height)a.gui.size.panels.signal.controlpanel.height=b(a.init.size.panels.signal.controlpanel.height,d.panels.signal.controlpanel.height);
if("undefined"==typeof a.gui.size.panels.signal.controlpanel.right||null==a.gui.size.panels.signal.controlpanel.right)a.gui.size.panels.signal.controlpanel.right=b(a.init.size.panels.signal.controlpanel.right,d.panels.signal.controlpanel.right);if("undefined"==typeof a.gui.size.panels.signal.controlpanel.padding||null==a.gui.size.panels.signal.controlpanel.padding)a.gui.size.panels.signal.controlpanel.padding=b(a.init.size.panels.signal.controlpanel.right,d.panels.signal.controlpanel.padding);if("undefined"==
typeof a.gui.size.panels.signal.alert.top||null==a.gui.size.panels.signal.alert.top)a.gui.size.panels.signal.alert.top=b(a.init.size.panels.signal.alert.top,d.panels.signal.alert.top);if("undefined"==typeof a.gui.size.panels.signal.alert.left||null==a.gui.size.panels.signal.alert.left)a.gui.size.panels.signal.alert.left=b(a.init.size.panels.signal.alert.left,d.panels.signal.alert.left);if("undefined"==typeof a.gui.size.panels.signal.alert.bottom||null==a.gui.size.panels.signal.alert.bottom)a.gui.size.panels.signal.alert.bottom=
b(a.init.size.panels.signal.alert.bottom,d.panels.signal.alert.bottom);if("undefined"==typeof a.gui.size.panels.signal.alert.right||null==a.gui.size.panels.signal.alert.right)a.gui.size.panels.signal.alert.right=b(a.init.size.panels.signal.alert.right,d.panels.signal.alert.right);if("undefined"==typeof a.gui.size.panels.signal.alert.view||null==a.gui.size.panels.signal.alert.view)a.gui.size.panels.signal.alert.view=b(a.init.size.panels.signal.alert.view,d.panels.signal.alert.view);if("undefined"==
typeof a.gui.size.panels.signal.alert.padding||null==a.gui.size.panels.signal.alert.padding)a.gui.size.panels.signal.alert.padding=b(a.init.size.panels.signal.alert.right,d.panels.signal.alert.padding);null!=a.gui.init.majors&&(a.init.majors=jQuery.extend(!0,[],a.gui.init.majors));null!=a.gui.init.compares&&(a.init.compares=jQuery.extend(!0,[],a.gui.init.compares));null!=a.gui.init.majors2&&(a.init.majors2=jQuery.extend(!0,[],a.gui.init.majors2));null!=a.gui.init.localization?a.init.localization=
jQuery.extend(!0,[],a.gui.init.localization):a.gui.init.localization=jQuery.extend(!0,[],a.init.localization);null!=a.gui.init.timeframe&&(a.init.timeframe=jQuery.extend(!0,[],a.gui.init.timeframe));null!=a.gui.init.autotimescale&&(a.init.autotimescale=jQuery.extend(!0,[],a.gui.init.autotimescale));null!=a.gui.init.charttype&&(a.init.charttype=jQuery.extend(!0,[],a.gui.init.charttype));null!=a.gui.init.indicators&&(a.init.indicators=jQuery.extend(!0,[],a.gui.init.indicators));null!=a.gui.init.comparecharttype&&
(a.init.comparecharttype=jQuery.extend(!0,[],a.gui.init.comparecharttype));!0==a.gui.size.fullpage&&(a.currenlayout.workmode.fullscreen=!0,a.currenlayout.workmode.alwaysfullscreen=!0,F());a.currenlayout.workmode&&a.currenlayout.workmode.fullscreen?F():v();h=b(a.init.localizationlang,a.gui.init.localizationlang);ProChart_InitLocalization(a,h,l);a.chart=AdvinionHtmlChart_Init();a.localizationobj&&(a.chart.LocalizationManager=a.localizationobj);a.chart.FixedSize=a.gui.size.fixedSize;a.actions=ProChart_InitActions(a);
a.tradingCentral=ProChart_InitTradingCentral(a);a.sigmaInvest=ProChart_InitSigmaInvest(a);a.init.templates=b(a.init.templates,d.templates);a.chart.Symbol=b(a.init.chart.Symbol,d.chart.Symbol);a.chart.TimeScale=b(a.init.chart.TimeScale,d.chart.TimeScale);a.chart.PriceChartType=b(a.init.chart.PriceChartType,d.chart.PriceChartType);a.chart.DefaultMarket=b(a.init.chart.DefaultMarket,d.chart.DefaultMarket);a.chart.ValueFieldType=b(a.init.chart.ValueFieldType,d.chart.ValueFieldType);a.chart.AllowChangingSymbols=
b(a.init.chart.AllowChangingSymbols,d.chart.AllowChangingSymbols);a.chart.AllowChangingTimeScale=b(a.init.chart.AllowChangingTimeScale,d.chart.AllowChangingTimeScale);a.chart.ShowBarData=b(a.init.chart.ShowBarData,d.chart.ShowBarData);a.chart.MarkersCornerRadius=b(a.init.chart.MarkersCornerRadius,d.chart.MarkersCornerRadius);a.chart.ShowSymbolAndUpdate=b(a.init.chart.ShowSymbolAndUpdate,d.chart.ShowSymbolAndUpdate);a.chart.NumVisibleBars=b(a.init.chart.NumVisibleBars,d.chart.NumVisibleBars);a.chart.NumBars=
b(a.init.chart.NumBars,d.chart.NumBars);a.chart.DataServiceURL=b(a.init.chart.DataServiceURL,d.chart.DataServiceURL);a.chart.TemplatesServiceURL=b(a.init.chart.TemplatesServiceURL,d.chart.TemplatesServiceURL);a.chart.DisplayBarNumber=b(a.init.chart.DisplayBarNumber,d.chart.DisplayBarNumber);a.chart.SymbolsServiceURL=b(a.init.chart.SymbolsServiceURL,d.chart.SymbolsServiceURL);a.chart.PanelPaddingLeft=a.gui.size.paddingLeft;a.chart.PanelPaddingRight=a.gui.size.paddingRight;a.chart.PanelPaddingTop=a.gui.size.paddingTop;
a.chart.PanelPaddingBottom=a.gui.size.paddingBottom;a.chart.PricePaddingBottom=a.gui.size.paddingPriceBottom;$(document).keyup(function(b){switch(b.keyCode){case 46:a.chart.DeleteSelected()}});a.patterns=ProChart_InitPatterns(a,l);!0==a.guiinit.menu&&(a.menuobj=ProChart_InitMenu(a));!0==a.guiinit.draw&&"undefined"!=typeof ProChart_InitDraw&&ProChart_InitDraw(a);!0==a.guiinit.indicators&&"undefined"!=typeof ProChart_Initindicators&&ProChart_Initindicators(a);!0==a.guiinit.system&&"undefined"!=typeof ProChart_InitSystems&&
ProChart_InitSystems(a);!0==a.guiinit.community&&"undefined"!=typeof ProChart_InitCommunity&&ProChart_InitCommunity(a);!0==a.guiinit.messages&&"undefined"!=typeof ProChart_InitMessages&&ProChart_InitMessages(a);!0==a.guiinit.compare&&"undefined"!=typeof ProChart_InitCompares&&ProChart_InitCompares(a);!0==a.guiinit.signals&&"undefined"!=typeof ProChart_InitSignals&&ProChart_InitSignals(a);!0==a.guiinit.header&&(a.headerobj=ProChart_InitHeader(a));!0==a.guiinit.alert&&(a.alertobj=ProChart_InitAlert(a));
!0==a.guiinit.msg&&(a.msgobj=ProChart_InitMsg(a));!0==a.guiinit.toolbaradv&&"undefined"!=typeof ProChart_InitToolbarAdv&&ProChart_InitToolbarAdv(a);!0==a.guiinit.plugs&&"undefined"!=typeof ProChart_InitPlugs&&ProChart_InitPlugs(a);!0==a.guiinit.props&&"undefined"!=typeof ProChart_InitProps&&ProChart_InitProps(a);"undefined"!=typeof ProChart_InitPanels&&(a.chart.UI.objPanelsCore=ProChart_InitPanels(a).core);!0==a.guiinit.zoom&&"undefined"!=typeof ProChart_InitZoom&&ProChart_InitZoom(a);!0==a.guiinit.trade&&
"undefined"!=typeof ProChart_InitTrade&&ProChart_InitTrade(a);ProChart_InitPreload(a);"undefined"!=typeof a.guiinit.parentRelativeObjectID&&null!=a.guiinit.parentRelativeObjectID&&aa()}function aa(){$.prochartcache.get("#"+a.guiinit.parentRelativeObjectID).resize(function(b){var e=null,d=null;"Microsoft Internet Explorer"==navigator.appName&&"XMLHttpRequest"in window&&null!==window.XMLHttpRequest?(e=$(b.srcElement).width(),d=$(b.srcElement).height()):(e="undefined"!=typeof $(this).outerWidth()?$(this).outerWidth():
$(this).width(),d="undefined"!=typeof $(this).outerHeight()?$(this).outerHeight():$(this).height());if(typeof a.events.layout.onResizeParentRelative==typeof Function)a.events.layout.onResizeParentRelative(e,d);else a.api.layout.changeSize(e,d,!1)})}function Z(h,e,d){m.debug("initChart_step2 ---- starts ("+h+")");"undefined"!=typeof a.menuobj&&a.menuobj.gui.viewMenu($.prochartcache.get("#layout"+e));"undefined"!=typeof a.headerobj&&a.headerobj.gui.viewHeader($.prochartcache.get("#layout"+e));"undefined"!=
typeof a.alertobj&&a.alertobj.gui.viewAlert($.prochartcache.get("#layout"+e));"undefined"!=typeof a.toolbaradvobj&&a.toolbaradvobj.gui.viewToolbarTop($.prochartcache.get("#layout"+e));a.chart.UI.funcOnAddCustomStudyOnLoad=function(b,c){a.indicators.gui&&a.indicators.gui.appendIndicator(c)};a.chart.UI.funcOnShapeSelectChange=ba;a.chart.UI.funcOnStartDrawing=ca;a.chart.UI.funcOnStopDrawing=da;a.chart.UI.funcOnShapeDelete=ea;a.chart.UI.funcOnShapeChanged=fa;a.chart.UI.funcOnShapeEndDrag=ga;a.chart.UI.funcOnShapeEndSize=
ha;a.chart.UI.funcOnStudyUpdated=ia;a.chart.UI.funcOnStudyAdded=ja;a.chart.UI.funcOnStudyDeleted=ka;a.chart.UI.funcOnLastUpdateChange=la;a.chart.UI.funcOnSymbolChange=ma;a.chart.UI.funcOnTimeScaleChange=na;a.chart.UI.funcOnCommChange=oa;a.chart.UI.funcOnChartSweepStart=pa;a.chart.UI.funcOnChartSweepEnd=qa;a.chart.UI.funcOnWait=ra;a.chart.UI.funcOnLogin=sa;a.chart.UI.funcOnTemplatesList=ta;a.chart.UI.funcOnTemplatesLoaded=ua;a.chart.UI.funcOnTemplatesSaved=va;a.chart.UI.funcOnTemplatesDeleted=wa;a.chart.UI.funcOnTemplatesError=
xa;a.chart.UI.funcOnPriceEdit=ya;a.chart.UI.funcOnTimeChange=za;a.chart.UI.funcOnPriceTypeChange=Aa;a.chart.UI.funcOnTimeZoneChanged=Ba;a.chart.UI.funcOnCompareEdit=Ca;a.chart.UI.funcOnCompareSymbolDelete=Da;a.chart.UI.funcOnVolumeEdit=Ea;a.chart.UI.funcOnZoomChange=Fa;a.chart.UI.funcOnSignalMouseIn=Ga;a.chart.UI.funcOnSignalMouseOut=Ha;a.chart.UI.funcOnSignalMouseClick=Ia;a.chart.UI.funcOnNewSignal=Ja;a.chart.UI.funcOnSignalRemoved=Ka;a.chart.UI.funcOnSignalFullRefresh=La;a.chart.UI.funcOnWaitForSignals=
Ma;a.chart.UI.funcOnGotSignals=Na;a.chart.UI.funcOnFindSymbols=Oa;a.chart.UI.funcOnSymbolsByGroup=Pa;a.chart.UI.funcOnGetMarkets=Qa;a.chart.UI.funcOnGetExchanges=Ra;a.chart.UI.funcOnGetCountries=Sa;a.chart.UI.funcOnDisablePanelUI=Ta;a.chart.UI.funcOnUpdateEventsInUI=Ua;a.chart.UI.funcOnPluginContentUpdate=Va;a.chart.UI.funcOnPluginEnableChanged=Wa;a.chart.UI.funcOnProSignalUpdateDisplay=Xa;a.localizationobj.funcOnChangeLocalication=Ya;a.events.layout.onResizeParentRelative=Za;a.chart.UI.funcOnCanSaveTA=
$a;a.chart.UI.funcOnCanLoadTA=ab;a.chart.UI.funcOnEditOrder=function(b,c){"undefined"!=typeof a.tradeobj&&a.tradeobj.gui.openTradeDialog(b,c,a.chart)};a.chart.StudiesToLoad=b(a.init.chart.StudiesToLoad,a.gui.init.StudiesToLoad);v();m.debug("initChart_step2 ----finished")}function Fa(b,e,d,f,c,g){try{if(a.zoomobj)a.zoomobj.gui.onZoomChange(b,e,d,f,c,g)}catch(l){}try{a.panels&&a.panels.gui.drawZoomIntervale(b,e,d,f,c,g)}catch(n){}}function Ua(b,e,d){if(typeof a.events.chart.onUpdateEventsInUI==typeof Function)a.events.chart.onUpdateEventsInUI(b,
e,d);"undefined"!=typeof a.alertobj&&a.alertobj.gui.updateAlerts(b,e,d)}function $a(b,e,d){if(typeof a.events.chart.onCanSaveTA==typeof Function)a.events.chart.onCanSaveTA(e,d)}function ab(b,e,d){if(typeof a.events.chart.onCanLoadTA==typeof Function)a.events.chart.onCanLoadTA(e,d);a.events.multicallback.runCallback("LoadedData",{symbolid:e,timescale:d})}function Za(b,e){"undefined"!=typeof a.guiinit.parentRelativeObjectID&&null!=a.guiinit.parentRelativeObjectID&&a.api.layout.changeSize(b,e)}function bb(a,
b){var d=this;d.wait=!1;d.delta=200;d.end=a;d.trigger=function(a){d.wait||(d.wait=!0,setTimeout(function(){d.end&&d.end.call(a);d.wait=!1},d.delta))}}function F(){var b={"z-index":a.api.props.chart.gui.layout.zindex_fullpage,"margin-top":a.api.props.chart.gui.layout.move_top_fullpage+"px","margin-right":a.api.props.chart.gui.layout.move_right_fullpage+"px","margin-left":a.api.props.chart.gui.layout.move_left_fullpage+"px","margin-bottom":a.api.props.chart.gui.layout.move_bottom_fullpage+"px"},e={"background-color":a.api.props.chart.gui.layout.background_color_fullpage,
"margin-top":a.api.props.chart.gui.layout.move_top_backgroundfullpage+"px","margin-right":a.api.props.chart.gui.layout.move_right_backgroundfullpage+"px","margin-left":a.api.props.chart.gui.layout.move_left_backgroundfullpage+"px","margin-bottom":a.api.props.chart.gui.layout.move_bottom_backgroundfullpage+"px"},d=$.prochartcache.get(a.parent),b="<div id='chart-full-page-div-modal'  %style% ><div></div></div><div id='chart-full-page-div-modal-bg'  %style-bg% ></div>".replace(/%style%/g,a.commonutils.func.getBlockStyle(b,
"px")).replace(/%style-bg%/g,a.commonutils.func.getBlockStyle(e,"px"));d.append(b);d=$(a.parent).find("prochart").detach();$("#chart-full-page-div-modal > div").append(d);v();N();O=new bb(function(){"undefined"!=typeof a.chart&&!0==a.currenlayout.workmode.fullscreen&&(v(),N())},600);$(window).off("resize",G);$(window).on("resize",G)}function G(){O.trigger()}function N(){var a=s();$("#chart-full-page-div-modal > div").css(a)}function ca(b,e,d){$.prochartcache.get("#"+a.init.chartcontainerid)&&$.prochartcache.get("#"+
a.init.chartcontainerid).addClass("cursor-draw");if(typeof a.events.chart.onStartDrawing==typeof Function)a.events.chart.onStartDrawing(e,d);if(typeof a.events.shape.onStartDrawing==typeof Function)a.events.shape.onStartDrawing()}function da(b){$.prochartcache.get("#"+a.init.chartcontainerid)&&$.prochartcache.get("#"+a.init.chartcontainerid).removeClass("cursor-draw");if(typeof a.events.chart.onStopDrawing==typeof Function)a.events.chart.onStopDrawing();if(typeof a.events.shape.onStopDrawing==typeof Function)a.events.shape.onStopDrawing()}
function ba(b,e,d){d&&$.prochartcache.get("#"+a.init.chartcontainerid)&&$.prochartcache.get("#"+a.init.chartcontainerid).focus();if(typeof a.events.chart.onShapeSelectChange==typeof Function)a.events.chart.onShapeSelectChange(e,d);if(typeof a.events.shape.onSelectChange==typeof Function)a.events.shape.onSelectChange()}function ea(){if(typeof a.events.shape.onDeleted==typeof Function)a.events.shape.onDeleted()}function fa(){if(typeof a.events.shape.onChanged==typeof Function)a.events.shape.onChanged()}
function ga(){if(typeof a.events.shape.onEndDrag==typeof Function)a.events.shape.onEndDrag()}function ha(){if(typeof a.events.shape.onEndSize==typeof Function)a.events.shape.onEndSize()}function ia(){if(typeof a.events.study.onUpdated==typeof Function)a.events.study.onUpdated()}function ja(){if(typeof a.events.study.onAdded==typeof Function)a.events.study.onAdded()}function ka(){if(typeof a.events.study.onDeleted==typeof Function)a.events.study.onDeleted()}function ta(b,e,d){"undefined"!=typeof a.systems&&
a.systems.gui.systemsList(b,e,d);if(typeof a.events.chart.onTemplatesList==typeof Function)a.events.chart.onTemplatesList(e,d)}function ua(b,e){"undefined"!=typeof a.systems&&a.systems.gui.loadedSystem(b,e);if(typeof a.events.chart.onTemplatesLoaded==typeof Function)a.events.chart.onTemplatesLoaded(e)}function sa(b,e){"undefined"!=typeof a.systems&&a.systems.gui.loginInSystems(b,e);if(typeof a.events.chart.onSystemLogin==typeof Function)a.events.chart.onSystemLogin(e)}function va(b,e){"undefined"!=
typeof a.systems&&a.systems.gui.savedSystem(b,e);if(typeof a.events.chart.onTemplatesSaved==typeof Function)a.events.chart.onTemplatesSaved(e)}function wa(b,e,d){"undefined"!=typeof a.systems&&a.systems.gui.deletedSystem(b,e,d);if(typeof a.events.chart.onTemplatesDeleted==typeof Function)a.events.chart.onTemplatesDeleted(e,d)}function xa(b,e,d){"undefined"!=typeof a.systems&&a.systems.gui.errorSystem(b,e,d);if(typeof a.events.chart.onTemplatesError==typeof Function)a.events.chart.onTemplatesError(e,
d)}function ya(b,e){"undefined"!=typeof a.props&&a.props.gui.viewPriceOnly(b,e);if(typeof a.events.chart.onPriceEdit==typeof Function)a.events.chart.onPriceEdit(e)}function Ca(b,e){"undefined"!=typeof a.compares&&a.compares.gui.openCompareSymbol(b,e);if(typeof a.events.chart.onCompareEdit==typeof Function)a.events.chart.onCompareEdit(e)}function Da(a,b){}function Ea(b,e){"undefined"!=typeof a.props&&a.props.gui.viewVolumeOnly(b,e);if(typeof a.events.chart.onVolumeEdit==typeof Function)a.events.chart.onVolumeEdit(e)}
function za(b,e,d){if(typeof a.events.chart.onTimeChange==typeof Function)a.events.chart.onTimeChange(e,d)}function Aa(b,e){"undefined"!=typeof a.toolbarobj&&a.toolbarobj.gui.selectedChartTypeButton(e);"undefined"!=typeof a.toolbaradvobj&&a.toolbaradvobj.gui.selectedChartTypeButton(e);if(typeof a.events.chart.onPriceTypeChange==typeof Function)a.events.chart.onPriceTypeChange(a.parent,e)}function Ba(b,e){if("undefined"!=typeof a.zoomobj)a.zoomobj.gui.onTimeZoneChange();if(typeof a.events.chart.onTimeZoneChanged==
typeof Function)a.events.chart.onTimeZoneChanged(a.parent,e)}function la(b,e){if("undefined"!=typeof a.headerobj)a.headerobj.gui.onLastUpdateChange(b,e);if("undefined"!=typeof a.panels)a.panels.gui.onLastUpdateChange(b,e);if(typeof a.events.chart.onLastUpdateChange==typeof Function){var d=a.chart.GetLastBidAsk();a.events.chart.onLastUpdateChange(a.parent,e,d)}}function ma(b,e){if("undefined"!=typeof a.headerobj)a.headerobj.gui.onChangeSymbol(b,e);"undefined"!=typeof a.toolbarobj&&a.toolbarobj.gui.updateTimesScale(e);
"undefined"!=typeof a.toolbaradvobj&&a.toolbaradvobj.gui.updateTimesScale(e);"undefined"!=typeof a.menuobj&&a.menuobj.gui.updateTimesScale(e);if(typeof a.events.chart.onChangeSymbol==typeof Function)a.events.chart.onChangeSymbol(a.parent,e);a.events.multicallback.runCallback("ChangeSymbol",{symbol:e})}function na(b,e){if("undefined"!=typeof a.headerobj)a.headerobj.gui.onChangeTimeframe(b,e);"undefined"!=typeof a.chart&&(a.chart.TimeFrame=e);"undefined"!=typeof a.toolbarobj&&a.toolbarobj.gui.selectedTimeFrameButton(e);
"undefined"!=typeof a.toolbaradvobj&&a.toolbaradvobj.gui.selectedTimeFrameButton(e);if(typeof a.events.chart.onChangeTimeframe==typeof Function)a.events.chart.onChangeTimeframe(a.parent,e);a.events.multicallback.runCallback("ChangeTimeframe",{timescale:e})}function oa(b,e){if("undefined"!=typeof a.headerobj)a.headerobj.gui.onCommunication(b,e);if("undefined"!=typeof a.panels)a.panels.gui.onCommunication(b,e);if(typeof a.events.chart.onCommunication==typeof Function)a.events.chart.onCommunication(a.parent,
e)}function pa(b){if(typeof a.events.chart.onChartSweepStart==typeof Function)a.events.chart.onChartSweepStart()}function qa(b){if(typeof a.events.chart.onChartSweepEnd==typeof Function)a.events.chart.onChartSweepEnd()}function ra(b,e,d){if("undefined"!=typeof a.preloadobj){switch(e){case !0:a.preloadobj.startPreload();break;case !1:a.preloadobj.endPreload()}if(typeof a.events.chart.onWait==typeof Function)a.events.chart.onWait(e,d)}}function b(a,b){return"undefined"!=typeof b&&null!=b?b:a}function Ha(a,
b){}function Ia(b,e){if("undefined"!=typeof a.signals&&(a.signals.gui.callfuncOnSignalMouseClick(b,e),typeof a.events.chart.onSignalMouseClick==typeof Function))a.events.chart.onSignalMouseClick(e)}function Ja(b,e){if("undefined"!=typeof a.signals&&(a.signals.gui.callNewsignal(b,e),typeof a.events.chart.onNewSignal==typeof Function))a.events.chart.onNewSignal(e)}function Ka(b,e){if("undefined"!=typeof a.signals&&(a.signals.gui.callRemovesignal(b,e),typeof a.events.chart.onSignalRemoved==typeof Function))a.events.chart.onSignalRemoved(e)}
function La(b,e){if("undefined"!=typeof a.signals&&(a.signals.gui.callFullRefreshsignals(b,e),typeof a.events.chart.onSignalFullRefresh==typeof Function))a.events.chart.onSignalFullRefresh(e)}function Ga(b,e){if("undefined"!=typeof a.signals&&typeof a.events.chart.onSignalMouseIn==typeof Function)a.events.chart.onSignalMouseIn(e)}function Ma(b,e){if("undefined"!=typeof a.signals&&("undefined"!=typeof a.signals&&a.signals.gui.startWaitSignal(e),typeof a.events.chart.onWaitForSignals==typeof Function))a.events.chart.onWaitForSignals(e)}
function Na(b,e){if("undefined"!=typeof a.signals&&("undefined"!=typeof a.signals&&a.signals.gui.stopWaitSignal(e),typeof a.events.chart.onGotSignals==typeof Function))a.events.chart.onGotSignals(e)}function Oa(b,e,d){if("undefined"!=typeof e.guiparent)switch(e.guiparent){case "header":"undefined"!=typeof a.header&&a.header.gui.callbackonFindSymbols(b,e,d);break;case "dialogcompares":"undefined"!=typeof a.compares&&a.compares.gui.callbackonFindSymbols(b,e,d);break;default:"undefined"!=typeof a.header&&
a.header.gui.callbackonFindSymbols(b,e,d)}}function Pa(b,e,d){b="majors";"undefined"!=typeof e.guigroup&&(b=e.guigroup);switch(b){case "majors2":"undefined"!=typeof a.init&&a.init.gui.majors2Update(d.data);"undefined"!=typeof a.menuobj&&a.menuobj.gui.updateMajors2();break;case "majors":e=!0;try{null!=a.api.localstorage.getMajorsFavorites()&&(e=!1)}catch(f){}if(!0==e){"undefined"!=typeof a.init&&a.init.gui.majorsUpdate(d.data);"undefined"!=typeof a.menuobj&&a.menuobj.gui.updateMajorFavorites();break}case "compares":e=
!0;try{null!=a.api.localstorage.getCompareFavorites()&&(e=!1)}catch(c){}!0==e&&("undefined"!=typeof a.init&&a.init.gui.compareUpdate(d.data),"undefined"!=typeof a.menuobj&&a.menuobj.gui.updateCompareFavorites())}}function Qa(b,e,d){"undefined"!=typeof a.init&&a.init.gui.marketsUpdate(d.data);"undefined"!=typeof a.headerobj&&a.headerobj.gui.marketsUpdate()}function Ra(b,e,d){"undefined"!=typeof a.init&&a.init.gui.exchangesUpdate(d.data);"undefined"!=typeof a.headerobj&&a.headerobj.gui.exchangesUpdate()}
function Sa(b,e,d){"undefined"!=typeof a.init&&a.init.gui.countriesUpdate(d.data);"undefined"!=typeof a.headerobj&&a.headerobj.gui.countriesUpdate()}function Ta(b,e){"undefined"!=typeof a.panels&&a.panels.gui.disablePanelEvents(b,e)}function Va(b,e,d,f){"undefined"!=typeof a.signals&&a.signals.gui.pluginContentUpdate(b,e,d,f)}function Xa(b,e,d){"undefined"!=typeof a.plugs&&a.plugs.gui.updateContent(b,e,d)}function Wa(b,e,d){"undefined"!=typeof a.signals&&a.signals.gui.pluginEnableChanged(b,e,d)}function Ya(b,
e){"undefined"!=typeof a.toolbaradvobj&&a.toolbaradvobj.gui.changeLocalization(b,e);"undefined"!=typeof a.menuobj&&a.menuobj.gui.changeLocalization(b,e);"undefined"!=typeof a.panels&&a.panels.gui.changeLocalization(b,e);if(typeof a.events.localization.onChange==typeof Function)a.events.localization.onChange(a.parent,b,e)}function I(b,e,d){"undefined"==typeof d&&(d=!0);if(null!=a.parent&&""!=b){var f=$.prochartcache.get(a.parent,".htmlchart");f&&(f.hasClass(b)||f.addClass(b),"default"!=b&&f.removeClass("default"),
"undefined"!=typeof e?f.hasClass(e)&&b!=e&&f.removeClass(e):f.hasClass(E)&&b!=E&&f.removeClass(E),E=b,!0==a.gui.size.fullpage&&cb(b),e=a.guiinit.cache,!0==e&&!1==d&&(e=!1),d=!1==e?"?"+(new Date).getTime():"","undefined"!=typeof a.chart&&(e=a.guiinit.rootpath+"/ChartUI/layouts/"+w+"/templates/"+b+"/chart.css.json.js"+d,""!=a.guiinit.customJsonCssFile&&(e=a.guiinit.customJsonCssFile+d),$.when(db(e)).then(function(a){}).done(function(){a.init.TemplateName=b;"undefined"!=typeof a.preloadobj&&a.preloadobj.endPreload()})))}}
function db(b){var e=$.Deferred();if(a.navigator.XMLHttpRequest()){var d=new XMLHttpRequest;d.open("get",b);d.onload=function(){var b=$.parseJSON(d.responseText);$.parseJSON(d.responseText);a.api.props&&(b=a.api.props.func.chart.updateFromInit(b));a.chart.StyleObject=b;a.chart.SetStyleObject(b);e.resolve(b)};d.send();return e}$.ajax({url:b,contentType:"application/javascript",dataType:"json",data:{},async:!0}).done(function(b){a.api.props&&(b=a.api.props.func.chart.updateFromInit(b));a.chart.StyleObject=
b;a.chart.SetStyleObject(b);e.resolve(b)});return e.promise()}function cb(a){var b=$("#chart-full-page-div-modal");if("undefined"!=typeof b){$(b).hasClass(a)||$(b).addClass(a);"default"!=a&&$(b).removeClass("default");for(var d="",f=1;10>=f;f++)d="template"+f,$(b).hasClass(d)&&a!=d&&$(b).removeClass(d)}}function Y(){function b(c){a.api.props&&(c=a.api.props.func.chart.updateFromInit(c));a.chart.StyleObject=c}function d(a){try{window.GlobProchartObject[c]=a}catch(b){}if("undefined"!=typeof l){var e=
prochartstation.get(l,"initjsoncss");if(null!=e){for(var f=0;f<e.length;f++){var g=e[f];if("function"==typeof g["function"])g["function"](a);g.deferred.resolve()}prochartstation.del(l,"initjsoncss")}}}var k=a.init.TemplateName,f=!1==a.guiinit.cache?"?"+(new Date).getTime():"",c=a.guiinit.rootpath+"/ChartUI/layouts/"+w+"/templates/"+k+"/chart.css.json.js"+f;""!=a.guiinit.customJsonCssFile&&(c=a.guiinit.customJsonCssFile+f);var g=$.Deferred();try{if("undefined"!=typeof window.GlobProchartObject[c])return b(window.GlobProchartObject[c]),
g.resolve()}catch(n){}if("undefined"!=typeof l)if(null==prochartstation.get(l,"initjsoncss"))prochartstation.set(l,"initjsoncss",[]);else return k={deferred:g,"function":b},prochartstation.get(l,"initjsoncss").push(k),g.promise();if(a.navigator.XMLHttpRequest()){var m=new XMLHttpRequest;m.open("get",c);m.onload=function(){var a=$.parseJSON(m.responseText);b(a);d(a);g.resolve(a)};m.send()}else $.ajax({type:"GET",async:!0,dataType:"json",url:c,data:{}}).done(function(a){b(a);d(a);g.resolve(a)});return g.promise()}
function p(a,b){var d="",f=a.indexOf("<"+b+">"),c=("<"+b+">").length,g=a.indexOf("</"+b+">");-1!=f&&-1!=g&&g>f+c&&(d=a.substring(f+c,g));return d}function eb(){var a=window.navigator.userAgent,b=a.indexOf("MSIE ");if(0<b)return parseInt(a.substring(b+5,a.indexOf(".",b)),10);if(0<a.indexOf("Trident/"))return b=a.indexOf("rv:"),parseInt(a.substring(b+3,a.indexOf(".",b)),10);b=a.indexOf("Edge/");return 0<b?parseInt(a.substring(b+5,a.indexOf(".",b)),10):!1}function D(b){for(var d={dom:null,domin:null},
k=null,f=0;f<a.currenlayout.layout.items.length;f++)if(a.currenlayout.layout.items[f].type==b){k=a.currenlayout.layout.items[f];break}try{for(;0<a.currenlayout.layout.slideitems.length;f++)if(a.currenlayout.layout.slideitems[f].type==b){k=a.currenlayout.layout.slideitems[f];break}}catch(c){}null!=k&&(b=k.guiniid,d.dom=$.prochartcache.get(k.guiid),d.domin=$.prochartcache.get(b));return d}var a={},d={},P=".min",n=/=""/g;a.parent=Q;a.layoutlevelinit=d;a.templates=[];a.version={gui:{name:"",build:0,custom:0}};
var E="",O=null;a.eventStatus={layoutreadyComplete:!1,layoutInitComplete:!1,chartCreateComplete:!1};var z={resizelayout:!1};a.gui={loadLayout:function(){a.navigator.properties.detectIE=eb();"undefined"!=typeof a.guiinit.minifier&&!1==a.guiinit.minifier&&(P="");"undefined"!=typeof a.guiinit.cache&&!1==a.guiinit.cache&&(J="?"+(new Date).getTime());var b=$.Deferred();$.when(R(),S(),K()).done(function(){m.debug("Loadded loadJsonIni(), loadVersion(), loadLayoutJson()");U();b.resolve()});return b.promise()},
createChart:function(){var b=$(a.parent).find("#"+a.init.chartcontainerid)[0];CreateAdvinionHtmlChart(a.chart,a.init.chartcontainerid,null,null,null,null);adv_hook_event.ADVINION_Internal_HookEvent(b,"mousewheel",adv_hook_event.ADVINION_Internal_CancelEvent);"undefined"!=typeof a.zoomobj&&(a.zoomobj.gui.viewZoom($.prochartcache.get("#layout"+a.init.uuid)),a.zoomobj.gui.viewZoomToolbox());try{var d=$.prochartcache.get("#"+a.guiinit.parentRelativeObjectID),k=b=null,b="undefined"!=typeof $(d).outerWidth()?
$(d).outerWidth():$(d).width(),k="undefined"!=typeof $(d).outerHeight()?$(d).outerHeight():$(d).height();if(typeof a.events.layout.onResizeParentRelative==typeof Function)a.events.layout.onResizeParentRelative(b,k);else a.api.layout.changeSize(b,k,!1)}catch(f){}"undefined"!=typeof a.localizationobj&&a.localizationobj.gui.changeLocalization();a.api.props&&a.api.props.func.chart.createComplete();"function"==typeof a.events.chart.createComplete&&a.events.chart.createComplete()},changeTemplate:I,loadchangeTemplate:function(b){if(""!=
b){var d=a.version.gui.name,k=!1==a.guiinit.cache?"?"+(new Date).getTime():"",f=a.guiinit.rootpath+"/ChartUI/layouts/"+w+"/templates/"+b+"/template"+P+".css",d=f+(""==k?"?"+d:k+d);"undefined"!=typeof a.preloadobj&&a.preloadobj.startPreload();a:{if(f)for(f=f.toLowerCase(),k=0;k<document.styleSheets.length;k++)if("undefined"!=typeof document.styleSheets[k].href&&null!=document.styleSheets[k].href&&-1<document.styleSheets[k].href.toLowerCase().indexOf(f)){f=!0;break a}f=!1}f?I(b):(b=document.createElement("link"),
b.type="text/css",b.rel="stylesheet",b.href=url,document.getElementsByTagName("head")[0].appendChild(d))}},fullScreen:function(b){if(a.currenlayout.workmode.alwaysfullscreen&&a.currenlayout.workmode.fullscreen)a.apiinit.fullpageHideScroll&&$.prochartcache.get("body").css("overflow","hidden");else if(b!=a.currenlayout.workmode.fullscreen)switch(a.currenlayout.workmode.fullscreen){case !1:a.currenlayout.workmode.fullscreen=!0;F();a.apiinit.fullpageHideScroll&&$.prochartcache.get("body").css("overflow",
"hidden");if(typeof a.events.layout.onFullPage==typeof Function)a.events.layout.onFullPage(!0);break;case !0:a.currenlayout.workmode.fullscreen=!1;b=$.prochartcache.get(a.parent);a.currenlayout.workmode.fullscreen=!1;var d=$.prochartcache.get(a.parent).find("prochart").detach();b.html("");b.append(d);if("undefined"!=typeof a.zoomobj&!1==a.gui.size.fixedSize)a.zoomobj.gui.onZoomBottomFixed(!1);$(window).off("resize",G);v();a.apiinit.fullpageHideScroll&&$.prochartcache.get("body").css("overflow","inherit");
if(typeof a.events.layout.onFullPage==typeof Function)a.events.layout.onFullPage(!1)}},adjustResize:v,resizeLayout:v,changeLayout:function(){var a=$.Deferred();$.when(K()).done(function(){m.debug("changeLayout");a.resolve()});return a.promise()},getlayoutObject:{parent:function(){var b=null;"undefined"!=typeof a.currenlayout.layout&&(b=a.currenlayout.layout);if(null!=b){var d=b.guiniid;$.prochartcache.get(b.guiid);$.prochartcache.get(d)}},top:function(){D("top")},left:function(){D("left")},right:function(){D("right")},
bottom:function(){D("bottom")},slideleft:function(){D("slideleft")},slideright:function(){D("slideright")}}};a.navigator={properties:{detectIE:!1,xdrMinIE:10,alvaysXMLHttpRequest:!1},XMLHttpRequest:function(){return"Microsoft Internet Explorer"==navigator.appName&&"XMLHttpRequest"in window&&null!==window.XMLHttpRequest&&a.navigator.properties.detectIE<=a.navigator.properties.xdrMinIE||a.navigator.properties.alvaysXMLHttpRequest}};a.events=ProChart_InitApiEvents(a);a.api=ProChart_InitApi(a);a.apiinit=
ProChart_InitApiInit(a);a.apiactions=ProChart_InitApiActions(a);a.apicommondata=ProChart_InitApiCommonDataInit(a);a.apibi=ProChart_InitApiBI(a);var m=a.api.debug.getLogger("prochart.gui.layout"),J="";return a};
