(function(e){function s(){if(!n){var a=(p?p:"")+".resize-triggers { "+(q?q:"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',b=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");
c.type="text/css";c.styleSheet?c.styleSheet.cssText=a:c.appendChild(document.createTextNode(a));b.appendChild(c);n=!0}}var g=document.attachEvent,n=!1,t=e.fn.resize;e.fn.resize=function(a){return this.each(function(){this==window?t.call(jQuery(this),a):addResizeListener(this,a)})};e.fn.removeResize=function(a){return this.each(function(){removeResizeListener(this,a)})};if(!g){var u=function(){var a=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||
function(a){return window.setTimeout(a,20)};return function(b){return a(b)}}(),v=function(){var a=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(b){return a(b)}}(),h=function(a){var b=a.__resizeTriggers__;a=b.firstElementChild;var b=b.lastElementChild,c=a.firstElementChild;b.scrollLeft=b.scrollWidth;b.scrollTop=b.scrollHeight;c.style.width=a.offsetWidth+1+"px";c.style.height=a.offsetHeight+1+"px";a.scrollLeft=a.scrollWidth;
a.scrollTop=a.scrollHeight},r=function(a){var b=this;h(this);this.__resizeRAF__&&v(this.__resizeRAF__);this.__resizeRAF__=u(function(){if(b.offsetWidth!=b.__resizeLast__.width||b.offsetHeight!=b.__resizeLast__.height)b.__resizeLast__.width=b.offsetWidth,b.__resizeLast__.height=b.offsetHeight,b.__resizeListeners__.forEach(function(c){c.call(b,a)})})},d=!1;e="";var k="animationstart",l=["Webkit","Moz","O","ms"],w=["webkitAnimationStart","animationstart","oAnimationStart","MSAnimationStart"],f="",f=
document.createElement("fakeelement");void 0!==f.style.animationName&&(d=!0);if(!1===d)for(d=0;d<l.length;d++)if(void 0!==f.style[l[d]+"AnimationName"]){f=l[d];e="-"+f.toLowerCase()+"-";k=w[d];d=!0;break}var m="resizeanim",p="@"+e+"keyframes "+m+" { from { opacity: 0; } to { opacity: 0; } } ",q=e+"animation: 1ms "+m+"; "}window.addResizeListener=function(a,b){g?a.attachEvent("onresize",b):(a.__resizeTriggers__||("static"==getComputedStyle(a).position&&(a.style.position="relative"),s(),a.__resizeLast__=
{},a.__resizeListeners__=[],(a.__resizeTriggers__=document.createElement("div")).className="resize-triggers",a.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',a.appendChild(a.__resizeTriggers__),h(a),a.addEventListener("scroll",r,!0),k&&a.__resizeTriggers__.addEventListener(k,function(b){b.animationName==m&&h(a)})),a.__resizeListeners__.push(b))};window.removeResizeListener=function(a,b){g?a.detachEvent("onresize",b):(a.__resizeListeners__.splice(a.__resizeListeners__.indexOf(b),
1),a.__resizeListeners__.length||(a.removeEventListener("scroll",r),a.__resizeTriggers__=!a.removeChild(a.__resizeTriggers__)))}})(jQuery);
